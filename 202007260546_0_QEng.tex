% 电势 电势能
% 电势|电势能|电荷|电场|做功

% 推导 1/r 势能， 计算连续电荷的势能， 例如带电球壳的势能
\pentry{力场 势能\upref{V}}

\subsection{电势能}
我们先来看电势能． 如果空间中存在某种分布的静电场（关于位置的矢量函数） $\bvec E(\bvec r)$， 一个电荷为 $q$ 的点电荷在任意位置 $\bvec r$ 都会受到电场力
\begin{equation}
\bvec F(\bvec r) = q \bvec E(\bvec r)
\end{equation}
这样我们就得到了一个由电场力构成的力场， 与电场处处成正比． 

从某点 $\bvec r_1$ 沿着某个路径移动到另一点 $\bvec r_2$， 电场对它做功为
\begin{equation}\label{QEng_eq4}
W = \int_{\bvec r_1}^{\bvec r_2} \bvec F(\bvec r) \dd{\bvec r} = q \int_{\bvec r_1}^{\bvec r_2} \bvec E(\bvec r) \vdot \dd{\bvec r}
\end{equation}

要讨论势能的概念， 我们首先需要确保这个力场是一个保守场， 即只有上式的结果只与初末位置有关而与路径无关时才可能存在一个势能函数． 以后我们会看到电场可以分为两类： 由净电荷产生的电场是无旋的， 即保守场， 而由变化磁场产生的电场是有旋的， 即非保守场（见 “力场 势能\upref{V}”， “旋度 斯托克斯定理\upref{Curl}”）．

这个问题有两种解决方法， 第一是要求净电荷分布不随时间变化， 且电流保持恒定\footnote{注意有电流就意味着有电荷在移动， 所以我们强调的是 “净” 电荷保持静止}， 这类问题称为\textbf{静电学（electrostatics）}． 在静电学问题中， 空间中没有变化的磁场， 所以所有的电场都是由净电荷产生的无旋．

第二种方法是， 在非静电学的情况下， 我们将电场中的保守场， 即净电荷产生的电场分离出来定义电势能， 即在\autoref{QEng_eq4} 的积分中， $\bvec E(\bvec r)$ 并不取总电场， 而是其中的无旋部分． 例如电路中的电荷的电势能电压\upref{Voltag}就是通过这种方法定义的． 因为一般来说电路不满足静电学的条件， 例如电路中的线圈的电磁感应．

记势能函数（关于位置的标量函数）为 $E_p(\bvec r)$， 就有 “力场对物体做功等于势能减少”， 或者 “势能增加等于力场做的负功” 即
\begin{equation}\label{QEng_eq5}
E_p(\bvec r_2) - E_p(\bvec r_1) = -W = -q \int_{\bvec r_1}^{\bvec r_2} \bvec E(\bvec r) \vdot \dd{\bvec r}
\end{equation}

根据上式， 我们只能判断两点之间的势能差， 若要完全确定势能函数， 还需要指定\textbf{零势点}的位置 $\bvec r_0$ （可以取无穷远）使得 $E_p(\bvec r_0) = 0$ （类比万有引力势能\upref{Gravty}）． 于是任意一点的势能为
\begin{equation}\label{QEng_eq3}
E_p(\bvec r) = -q \int_{\bvec r_0}^{\bvec r} \bvec E(\bvec r') \vdot \dd{\bvec r'}
\end{equation}

\begin{example}{匀强电场}
假设空间中存在匀强电场 $\bvec E = E_x \uvec x + E_y \uvec y + E_z \uvec z$， 即电场矢量与位置无关． 以原点为零势点 $\bvec r_0$， 求点电荷 $q$ 在空间中任意一点 $\bvec r$ 的电势能．

根据\autoref{QEng_eq3}， 取积分路径为原点到 $\bvec r$ 的线段， 则
\begin{equation}
E_p(\bvec r) = -q \bvec E \int_{\bvec 0}^{\bvec r} \dd{\bvec r'} = -q \bvec E \vdot \bvec r
\end{equation}
当 $\bvec r$ 和 $\bvec E$ 同方向时， 就得到了高中所学的 $-qEr$．
\end{example}

\subsection{电势}
注意以上公式中， 无论是做功还是势能都与电荷量 $q$ 有关（成正比）． 为了更直接地描述电场本身的性质， 我们可以把这些公式两边都除以 $q$． 若定义\textbf{电势} $V(\bvec r)$ 满足
\begin{equation}
E_p(\bvec r) = q V(\bvec r)
\end{equation}
则\autoref{QEng_eq5} 和\autoref{QEng_eq3} 就变为
\begin{equation}\label{QEng_eq1}
V(\bvec r_2) - V(\bvec r_1) = - \int_{\bvec r_1}^{\bvec r_2} \bvec E(\bvec r) \vdot \dd{\bvec r}
\end{equation}
\begin{equation}
V(\bvec r) = -\int_{\bvec r_0}^{\bvec r} \bvec E(\bvec r) \vdot \dd{\bvec r}
\end{equation}
同样， 该积分只与初末位置有关而与路径无关． 这样一来， 电势就只是电场的属性而与电荷量无关了．

\subsection{点电荷的电势和电势能}
假设空间中有两个点电荷， $q_1$ 产生的电场可以根据\autoref{Efield_eq3}~\upref{Efield} 计算， 现在考虑 $q_2$ 在该场中的势能， 取无穷远处为零势点， 使用\autoref{QEng_eq3} 可以计算 $q_2$ 的势能为（这个过程可以类比万有引力势能\upref{Gravty}的推导过程）
\begin{equation}
E_{p2} = -q_2 \int_{\infty}^{\bvec r_1} \frac{1}{4\pi\epsilon_0} \frac{q_1}{r_{12}^3}\bvec r_{12} \vdot \dd{\bvec r}
= \frac{1}{4\pi\epsilon_0} \frac{q_1 q_2}{r_{12}}
\end{equation}
有趣的是， 计算 $q_1$ 在 $q_2$ 产生的电场中的势能结果也是一样的． 事实上， 电势能不储存于任何一个电荷中而是储存于电场中． 以后我们会学习如何直接从总电场分布来计算势能， 结果还是和上式一样． 所以以后我们对这两种情况不加区分， 都记为
\begin{equation}\label{QEng_eq2}
E_p(r) = \frac{1}{4\pi\epsilon_0} \frac{q_1 q_2}{r_{12}}
\end{equation}
注意当两电荷异号时， $q_1 q_2$ 为负数， 此时与万有引力一样， 距离越近， 势能越小． 两电荷同号时 $q_1 q_2$ 为正， 距离越远势能越小．

\begin{example}{}
两个电荷量为 $Q$ 的电荷分别被固定在 $(-c, 0)$ 和 $(c, 0)$ 两点处， 另一质量为 $m$ 电荷量为 $q$ 的点电荷从 $(0, a)$ 延直线移动到 $(0, b)$， 试问它的动能增加了多少？

解： 由\autoref{QEng_eq2} 可知， 点电荷 $q$ 在 $(0, y)$ 处的电势能为
\begin{equation}
E_p = \frac{1}{4\pi\epsilon_0}\frac{2Qq}{\sqrt{y^2 + c^2}}
\end{equation}
所以动能增加等于势能减少， 即
\begin{equation}
\Delta E_k = V_a - V_b = \frac{Qq}{2\pi\epsilon_0}  \qty(\frac{1}{\sqrt{a^2 + c^2}} - \frac{1}{\sqrt{b^2 + c^2}})
\end{equation}
\end{example}

\subsection{多个点电荷的电势能}
由于电场可以矢量叠加， 电势和电势能也可以叠加． 当空间中存在 $N$ 个点电荷， 那么第 $i$ 个点电荷在剩下 $N-1$ 个点电荷产生的电场中的电势就是
\begin{equation}\label{QEng_eq6}
V_i(\bvec r_i) = \frac{1}{4\pi\epsilon_0} \sum_j^{(j\ne i)} \frac{q_j}{\abs{\bvec r_j - \bvec r_i}}
\end{equation}
电势能为 $E_{pi}(\bvec r_i) = q_i V_i(\bvec r_i)$． 这个能量的意义是， 把点点电荷 $q_i$ 从无穷远处移动到 $\bvec r_i$ 处需要的功．

如果要计算 $N$ 个电荷的总电势能， 我们需要假设开始时这些点电荷两两间距离都是无穷远， 然后把他们依次移动到 $\bvec r_i$ 处所需要的总功． 可以证明多个点电荷系统的总电势能等于这些电荷两两间势能的和， 即
\begin{equation}
E_p = \frac{1}{4\pi\epsilon_0} \sum_{i,j}^{(i < j)} \frac{q_i q_j}{\abs{\bvec r_j - \bvec r_i}}
\end{equation}
其中小于号是为了在求和过程中不重复计算同一对电荷． 如果不要求小于， 则需要除二
\begin{equation}
E_p = \frac{1}{8\pi\epsilon_0} \sum_{i, j}^{(j\neq i)} \frac{q_i q_j}{\abs{\bvec r_j - \bvec r_i}}
\end{equation}
将\autoref{QEng_eq6} 代入得
\begin{equation}\label{QEng_eq7}
E_p = \frac12 \sum_i q_i V_i(\bvec r_i)
\end{equation}
这个公式给电势能提供了一种等效的定义．

\subsection{连续电荷分布的情况}
将\autoref{QEng_eq6} 拓展到连续电荷分布的情况， 令电荷密度分布为 $\rho(\bvec r)$， 则某点的电势可以通过对整个空间积分得到
\begin{equation}
V(\bvec r) = \frac{1}{4\pi\epsilon_0} \int \frac{\rho(\bvec r)}{\abs{\bvec r - \bvec r'}} \dd[3]{r'}
\end{equation}

\begin{example}{无限长导线的电势}
（未完成， 基于\autoref{Efield_ex1}~\upref{Efield} 的结论）
\end{example}

\begin{example}{均匀带平板的电势}
电荷面密度为 $\sigma$， 令无穷远处为零势点， 求均匀带电球内外的电势分布．

（未完成， 基于\autoref{Efield_ex2}~\upref{Efield} 的结论）
\end{example}

我们也可以类比\autoref{QEng_eq7}， 写出连续电荷分布的电势能为
\begin{equation}\label{QEng_eq8}
E_p = \frac 12 \int V(\bvec r) \rho(\bvec r) \dd[3]{r}
\end{equation}

% 是否考虑加一道例题？ 带电球好了．
