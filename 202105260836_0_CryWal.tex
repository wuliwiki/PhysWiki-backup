% 使用数字货币钱包

\subsection{安全事项}
\begin{itemize}
\item 建议使用不易中病毒的操作系统生成钱包（如 iOS， Mac， Linux 等）， 如果你使用 windows， 确保你的系统和软件都是正版的， 没有录屏软件， 并先进行杀毒．
\item 强烈建议使用系统自带的浏览器和输入法（在 iOS 上， 即使使用第三方输入法， 也不要打开全部权限）进行任何数字货币有关的操作．
\end{itemize}

\subsection{比特币钱包种类}
我们接下来主要以比特币为例讲解， 其他数字货币也大同小异． 比特币最原始的钱包形式就是一个地址和一个私钥． 一对真实有效的例子如
\begin{lstlisting}[language=bash]
地址： 15Vq6G2x7pZkGnLZBgqCCaruG5UZCtn8dr
私钥： Kzr3NAC9z5sE71MWrzdqoYz4wfmYhu6zainJHgQRBW6hcYZ5Xh25
\end{lstlisting}
一个用于生成地址和私钥的常用网站为 \href{https://www.bitaddress.org/}{bitaddress.org}． 需要注意的是地址和私钥是拥有比特币的唯一凭证， 任何持有两者的人就等同于持有该地址中的所有比特币． 比特币一旦被盗几乎不可能追回．

\subsection{关于隐私}
理论上， 当一个钱包地址生成以后， 如果只单独挖矿或者和随机的地址之间转账， 那么无法得知该地址的持有者是谁． 但如果该地址直接接收交易所的转账， 且交易所中有地址持有者的身份信息， 那么由于所有的转账都是公开的， 那么这个地址的身份也可能暴露． 类似地， 如果和你交易的人知道你的身份信息， 那么你用于交易的钱包地址的隐私性也可能会降低． 下面我们会看到市面上大部分手机钱包都为此提供了较好的解决方案． 另外也存在一种提供混淆转账功能的热钱包， 在汇款时会把不同的随机汇款混合到一个地址中后再发向最终地址， 这在一定程度上可以保护目标地址的隐私．

\subsection{钱包类型}
以下大致列出钱包的类型．
\begin{itemize}
\item \textbf{纸钱包}： 顾名思义， 把地址和私钥写在纸上， 或者打印出来（通常包含二维码）， 并保存到安全的地方（如保险柜）就叫纸钱包． 纸钱包的缺点是使用起来不太方便， 以及纸容易被烧毁， 泡烂， 褪色等．
\item \textbf{钢钱包}： 为了克服纸钱包在物理上的脆弱， 市面上也可以买到一些专用的小钢板， 可以在上面以打点或拼图的方式记录地址和私钥． 钢钱包是保存比特币最安全最稳定的方式， 不需要依赖任何第三方数字设备或软件， 无法被黑客盗取， 也可以抵抗常见的自然灾害．
\item \textbf{硬件钱包}： 类似于银行的 U 盾， 通常带有 USB 接口， 地址和私钥信息储存在钱包中， 需要转账时将其插入电脑即可． 原则上该钱包不会把私钥以任何方式联网， 但这要求你信任该 app 的开发者．
\item \textbf{手机离线钱包}： 把地址和私钥加密保存在手机钱包 app 中， 通常附带转账功能． 这同样要求你信任该开发者．
\item \textbf{热钱包}： 常用于交易所． 钱包的开发者拥有所有的地址和私钥， 且用户通常无法获得． 用户通过钱包网站的注册信息登录并进行转账或交易等操作． 热钱包是最不安全的钱包， 此前已经有一些热钱包被黑客破解的案例． 注意黑客只是攻击了热钱包网站并获得了比特币的地址和私钥， 但比特币网络本身却从来没有被破解过．
\end{itemize}

\subsection{使用助记词}
除了直接生成和保存地址/私钥， 也可以使用助记词完成． 通过一定的标准算法， 助记词可以被转换为无限多个钱包地址和私钥． 最常见的助记词标准规范是 \textbf{BIP39 （bitcoin improvement proposal 39）}， 该规范中规定了 2048 个常见且不易混淆的单词用于选取助记词． 常见的助记词个数是 12 个或者 24 个， 但许多专家认为 12 个助记词的安全性已经和直接使用比特币私钥相当． 助记词也有中文和其他语言的版本， 中文采用 12 个汉字．
\begin{table}[ht]
\centering
\caption{英文助记词例子}\label{CryWal_tab1}
\begin{tabular}{|c|c|c|c|}
\hline
1.trend & 2.cage & 3.spell & 4.cycle \\
\hline
5.foster & 6.garbage & 7.upset & 8.peasant \\
\hline
9.mention & 10.purpose & 11.menu & 12.isolate \\
\hline
\end{tabular}
\end{table}

助记词最大的优势第一个是方便记忆， 第二是一组助记词对应无数多个钱包地址． 一个常用助记词生成转换网站是 \href{https://iancoleman.io/bip39/}{hiancoleman.io/bip39}． 该页面可以随机生成助记词， 以及选择不同的算法生成任意多的地址和私钥． 注意同一种助记词也可以生成多种货币的钱包地址和私钥． 注意该页面可以保存为 html 文件并离线使用， 推荐在安全的设备上离线使用（使用以前断开网线和 wifi）．

为什么一组助记词可以对应无数个钱包地址和密钥？ 你可以把这组词理解为随机数生成器的种子， 在一定规则下进行反复迭代就可以确定地生成不同的地址和密钥．

大部分手机离线钱包无需注册和登录， 而是使用助记词管理地址和密钥， 例如著名的 BRD 钱包（bread wallet）使用 12 个英文助记词． 在初次使用时， 软件会随机生成助记词并提示你用纸币将其记下， 任何掌握这些助记词的人都会拥有它对应的所有地址中的数字货币． 在网站 \href{https://iancoleman.io/bip39/}{hiancoleman.io/bip39} 中， 你可以输入这些助记词并获得一些对应的地址和密钥． BRD 的推导算法是 \verb|BIP32|， 推导路径（derivation path）是 \verb|m/0'/0|， 你需要在网页中输入这些才会得到正确的地址和密钥（再次提醒处理敏感信息时要格外注意安全）． 所以在使用 BRD 钱包时， 你不需要担心这个 app 以后是否会被下架， 你唯一需要信任的是该钱包不会偷偷上传你的助记词和私钥．

\subsection{手机离线钱包的隐私策略}
由于一组助记词可以生成无穷多个地址， 手机离线钱包为了保证用户隐私， 每次收款时都会按顺序获取一个新的地址， 转账时除了转给目标地址， 也可能会把另一部分余额转到一个新地址．
