% JS 互动程序
% license Usr
% type Tutor

以下程序

\begin{lstlisting}[language=js,caption=ball.html]
<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Draggable Ball</title>
<style>
	#ball {
		width: 50px;
		height: 50px;
		background-color: blue;
		border-radius: 50%;
		position: absolute;
		cursor: pointer;
	}
</style>
</head>

<body>

<div id="ball"></div>

<script>
	let ball = document.getElementById('ball');
	let isDragging = false;
	let diffX = 0, diffY = 0;
	function onMouseDown(e) {
		isDragging = true;
		diffX = e.clientX - ball.getBoundingClientRect().left;
		diffY = e.clientY - ball.getBoundingClientRect().top;	
	}
	function onMouseMove(e) {
		if (isDragging) {
			ball.style.left = e.clientX - diffX + 'px';
			ball.style.top = e.clientY - diffY + 'px';
		}
	}
	function onMouseUp() {
		isDragging = false;
	}
	ball.addEventListener('mousedown', onMouseDown);
	document.addEventListener('mousemove', onMouseMove);
	document.addEventListener('mouseup', onMouseUp);
</script>
</body>
</html>
\end{lstlisting}
