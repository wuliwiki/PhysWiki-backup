% 张量
\pentry{线性映射，映射\upref{map}}

%线性映射词条需要从抽象角度重新创作；线性映射词条大概率会引用映射词条，到时候要在预备知识中删除映射词条这一项

“张量”一词最早出现在结构力学里，用来描述应力的性质，因此被叫做\textbf{张力（tensor）}，这个名字沿用到了今天，只是翻译改成了\textbf{张量}．现在我们知道，张力张量只是一种更一般的数学对象的特例，而这种对象在物理学的各个角落频繁出现．因此，我们会从现代角度，从根本角度定义张量的概念，并展示如何将张量表示成常见的多维矩阵的形式．

本词条要求读者有扎实的线性代数功底．

\subsection{线性函数和其表示}

张量本身，是一种多重线性映射．我们知道，给定两个向量空间$V$和$W$，我们可以构造从$V$到$W$的线性映射．在这种情况下，自变量只有一项，因变量也只有一项．多重线性映射，比如$k$重线性映射，就是拿一系列$V_1, V_2, \cdots, V_k$来进行一个多元映射，让这个多元映射中的某一个自变量$\bvec{v}_i\in V$单独变化时，映射看起来就像一个普通的线性映射．

最简单的情况，就是考虑$W$是一个一维空间．在这种情况下，$W$也可以看作实数域本身，而不是线性空间．将集合中的元素映射到数字集合上的映射，我们用一个特殊的术语来称呼，\textbf{函数}，也就是中学课程中函数一词，毕竟中学所涉及到的映射基本上都是实数到实数的映射，自然被称为函数．那么当线性映射的目标是一维的$W$时，由于此时$W$被看成实数域，我们特别地把这个映射称为\textbf{线性函数}．下面，我们就要用线性函数的概念来一步步引入多重线性映射和张量的概念及其表示．

\subsubsection{线性函数用向量表示}
\begin{definition}{线性函数}
给定实数域$\mathbb{R}$上的$n$维线性空间$V$，称$f:V\rightarrow \mathbb{R}$为$V$到域$\mathbb{R}$上的一个\textbf{线性函数}，如果$f$满足以下线性性：对于任意的$\bvec{v}_1, \bvec{v}_2\in V$和$a_1, a_2\in\mathbb{R}$，都有$a_1f(\bvec{v}_1)+a_2f(\bvec{v}_2)=f(a_1\bvec{v}_1+a_2\bvec{v}_2)$．
\end{definition}

如果把域$\mathbb{R}$本身看成一个一维的线性空间，那么线性函数就是$V$到这个一维空间上的线性映射．因此，我们只需要任取一个$V$的基，研究基向量被$f$映射到哪里，就可以计算出任意的$\bvec{v}\in V$被映射到哪里了．

设$V$有基$\{\bvec{e}_i\}_{i=1}^n$．如果基向量$\bvec{e}_i$被映射为$f(\bvec{e}_i)=m_i\in\mathbb{R}$，那么对于任意的向量$\bvec{v}=a_1\bvec{e}_1+a_2\bvec{e}_2+\cdots+a_n\bvec{e}_n$，根据线性性可以得到：
\begin{equation}
\begin{aligned}
f(a_1\bvec{e}_1+a_2\bvec{e}_2+\cdots+a_n\bvec{e}_n)&=f(a_1\bvec{e}_1)+f(a_2\bvec{e}_2)+\cdots+f(a_n\bvec{e}_n)\\&=m_1a_1+m_2a_2+\cdots+m_na_n
\end{aligned}
\end{equation}

$m_1a_1+m_2a_2+\cdots+m_na_n$可以看成是向量$\bvec{m}$点乘$\bvec{v}$所得到的，其中$\bvec{m}=m_1\bvec{e}_1+m_2\bvec{e}_2+\cdots+m_n\bvec{e}_n$．

也就是说，每个线性函数$f$对应一个向量$\bvec{m}$，使得$f(\bvec{v})=\bvec{m}\cdot\bvec{v}$．这个向量$\bvec{m}$，在以上给定的基$\{\bvec{e}_i\}_{i=1}^n$中的坐标为$(m_1, m_2, \cdots, m_n)^T$．当然，用别的基表达，坐标也会不一样，但向量还是那个向量．

\subsubsection{$2$-线性函数用矩阵表达}

继续使用上述给定的$n$维线性空间$V$，但是我们现在拿出$2$个$V$来构造映射$f:V\times V\rightarrow\mathbb{R}$．

\begin{definition}{$2$-线性函数}
称$f:V\times V\rightarrow\mathbb{R}$为一个$2-$线性映射，如果对于任意固定的$\bvec{v}_0$，$f(\bvec{v}_0, \bvec{v})$和$f(\bvec{v}, \bvec{v}_0)$都是$\bvec{v}$的线性函数，那么称$f$是一个$V^2$上的$2-$\textbf{线性函数}或\textbf{双线性函数}．
\end{definition}

双线性函数的另一种表达方法，是
\begin{equation}\label{Tensor_eq2}
\begin{aligned}
f(a_1\bvec{v}_1+a_2\bvec{v}_2, b_1\bvec{u}_1+b_2\bvec{u}_2)&=a_1f(\bvec{v}_1, b_1\bvec{u}_1+b_2\bvec{u}_2)+a_2f(\bvec{v}_2, b_1\bvec{u}_1+b_2\bvec{u}_2)\\&=a_1b_1f(\bvec{v}_1, \bvec{u}_1)+a_2b_1f(\bvec{v}_2, \bvec{u}_1)+a_1b_2f(\bvec{v}_1, \bvec{u}_2)+a_2b_2f(\bvec{v}_2, \bvec{u}_2)
\end{aligned}
\end{equation}

为了表示这个映射，我们需要给两个$V$取定基．不过这里有两个$V$，所以可以取两组不同的基，各$V$各自用一个单独的基．我们设第一个$V$的基是$\{\bvec{e}_i\}^n_{i=1}$，第二个的是$\{\bvec{e}_i'\}^n_{i=1}$．选定各自的基以后，向量都可以表示成其坐标构成的列向量，而双线性函数就被表示为一个矩阵（以$2$维的$V$为例）：
\begin{equation}\label{Tensor_eq1}
\begin{aligned}
&\bvec{v}=a_1\bvec{e}_1+a_2\bvec{e}_2\rightarrow c_v=\pmat{a_1\\a_2}\\
&\bvec{u}=b_1\bvec{e}'_1+b_2\bvec{e}'_2\rightarrow c_u=\pmat{b_1\\b_2}\\
&f\rightarrow \bvec{M}=\pmat{f(\bvec{e}_1, \bvec{e}'_1)&f(\bvec{e}_1, \bvec{e}'_2)\\f(\bvec{e}_2, \bvec{e}'_1)&f(\bvec{e}_2, \bvec{e}'_2)}\\
\end{aligned}
\end{equation}

这样，我们就有$f(\bvec{v}, \bvec{u})=c_v^T\bvec{M}c_u$．注意这里$c_v^T$表示$c_v$作为矩阵的转置\footnote{如果使用其它的基，那么向量$\bvec{v}$、$\bvec{u}$的坐标和映射$f$的矩阵会有不同表示，但是计算出来的$c_v^T\bvec{M}c_u$仍然是一致的．特别要注意的是，两个$V$中的基必须选择相同的向量，按相同的顺序排列，否则$f$无法表示成矩阵．}．

\begin{exercise}{}
把列向量看成矩阵，根据矩阵的运算法则，将\autoref{Tensor_eq1}代入\autoref{Tensor_eq2}，验证$f(\bvec{v}, \bvec{u})=c_v^T\bvec{M}c_u$．
\end{exercise}

上面给出的例子是$2$维的$V$的情况．推广到$n$维的$V$时，$\bvec{M}$要扩展成一个$n\times n$的矩阵，其中第$i$行$j$列的元素是$m_{ij}=f(\bvec{e}_i, \bvec{e}'_j)$．

下面，我们来看一些简单的$2$-线性函数的例子．

\begin{example}{功率张量}
三维空间里一个物体的受力，可以构成一个三维实线性空间$V$，这个物体的速度，也可以构成一个$V$\footnote{回忆：$\mathbb{R}$上的线性空间，只要维度相同，都可以看成同一个空间．}．用$\bvec{F}$表示物体受到的力，$\bvec{v}$表示物体的速度，那么这个力对物体做功的功率$P$就是一个双线性函数：$P=\bvec{F}\cdot\bvec{v}$．如果选定了受力空间和速度空间的基，还可以把向量$\bvec{F}$和$\bvec{v}$分别表示成列向量$c_F$和$c_v$，那么就有$P=c^T_F\bvec{P}c_v$，这里的$\bvec{P}$就是功率张量．也就是说，不管选什么基，这个双线性函数的表达都是单位矩阵$\pmat{1&0\\0&1}$．
\end{example}

\subsubsection{矩阵的运算回顾}

矩阵只是一种运算的表达方式．虽然我们常见的矩阵元素都是实数或者复数，但是只要是可以相加和相乘的元素都可以当作矩阵元素．

\begin{example}{矩阵运算的例子}

\begin{itemize}
%
\item 向量可以和数字相乘．如果$\bvec{v}_i$表示向量，$a_i$表示数字，那么$\pmat{\bvec{v}_1&\bvec{v}_2&\bvec{v}_3}$是三个向量排成的矩阵，$\pmat{a_1\\a_2\\a_3}$是三个数字排成的矩阵，按照向量的数乘来进行矩阵乘法，$\pmat{\bvec{v}_1&\bvec{v}_2&\bvec{v}_3}\pmat{a_1\\a_2\\a_3}=(a_1\bvec{v}_1+a_2\bvec{v}_2+a_3\bvec{v}_3)$就是一个向量，$\pmat{a_1\\a_2\\a_3}\pmat{\bvec{v}_1&\bvec{v}_2&\bvec{v}_3}=\pmat{a_1\bvec{v_1}&a_1\bvec{v_2}&a_1\bvec{v_3}\\a_2\bvec{v_1}&a_2\bvec{v_2}&a_2\bvec{v_3}\\a_3\bvec{v_1}&a_3\bvec{v_2}&a_3\bvec{v_3}}$是$9$个向量排成的矩阵．
\item 向量之间可以有点乘．因此$\pmat{\bvec{v}_1&\bvec{v}_2\\\bvec{v}_3&\bvec{v}_4}\cdot\pmat{\bvec{v}_5\\\bvec{v}_6}=\pmat{\bvec{v}_1\cdot\bvec{v}_5+\bvec{v}_2\cdot\bvec{v}_6\\\bvec{v}_3\cdot\bvec{v}_5+\bvec{v}_4\cdot\bvec{v}_6}$是两个数字排成的矩阵．
\item 3维向量之间可以有叉乘．因此$\pmat{\bvec{v}_1&\bvec{v}_2\\\bvec{v}_3&\bvec{v}_4}\times\pmat{\bvec{v}_5\\\bvec{v}_6}=\pmat{\bvec{v}_1\times\bvec{v}_5+\bvec{v}_2\times\bvec{v}_6\\\bvec{v}_3\times\bvec{v}_5+\bvec{v}_4\times\bvec{v}_6}$是两个向量排成的矩阵．
%
\end{itemize}
\end{example}

\subsubsection{$2$-线性函数的向量矩阵表达}

设一个$2-$线性函数$f:V^2\rightarrow\mathbb{R}$在某个基下的矩阵表达是$$\pmat{m_{ij}}=\pmat{m_{11}&m_{12}&\cdots&m_{1n}\newline m_{21}&m_{22}&\cdots&m_{2n}\newline \vdots&\vdots&\ddots&\vdots\newline m_{n1}&m_{n2}&\cdots&m_{nn}} $$
则把每一行当成一个行向量，记为$\bvec{m}_i^T=\pmat{m_{i1}&m_{i2}&\cdots&m_{in}}$，那么$f$可以表达为行向量的行矩阵：$$\bvec{M}=\pmat{\bvec{m}_1^T&\bvec{m}_2^T&\cdots&\bvec{m}_n^T}$$
对于任意向量$\bvec{v}, \bvec{u}\in V$，$\bvec{M}\bvec{v}$是一个行向量，$\bvec{M}\bvec{v}\bvec{u}$是一个$\mathbb{R}$中的数\footnote{此处把向量$\bvec{m}_1^T$看成$\bvec{M}$的元素，向量$\bvec{v}, \bvec{u}$看成列矩阵，进行矩阵乘法，应用数乘来乘以每一个数和向量$\bvec{m}_1^T$．}．

因此，$\bvec{M}$可以表示双线性函数$f$，规则是：$f(\bvec{v}, \bvec{u})=\bvec{M}\bvec{v}\bvec{u}$．

\subsubsection{$k$-线性函数}

把$2$-线性函数的定义推广，就得到$k$-线性函数的定义．

\begin{exercise}{}
请尝试给出$k$-线性函数的定义．答案就在题目下方．
\end{exercise}

\begin{definition}{$k$-线性函数}

给定域$\mathbb{R}$上的$n$维线性空间$V$，称$f:V^k\rightarrow \mathbb{R}$为$V$到域$\mathbb{R}$上的一个\textbf{$k$-线性函数}，如果$f$对于每一个自变量都是线性的；或者说，当$k$个自变量中只有一个在变化，其它分量不变，那么$f$对于那个变化的自变量是线性函数．特别地，线性函数又被称为$1$-线性函数．

\end{definition}

由$2$-线性函数的向量矩阵表达可以看出，由于每个线性函数$f_1$都可以表示为一个向量$\bvec{m}$，映射规则就是用$\bvec{m}$作为向量去点乘自变量向量$\bvec{v}\in V$，也可以看成是$\bvec{m}$作为行矩阵，自变量$\bvec{v}$作为列矩阵，二者进行矩阵乘法$\bvec{m}\bvec{v}$；而$2$-线性函数$f_2$就可以表示为行向量$\bvec{m}_i$构成的行矩阵$\bvec{M}$，每一个行向量都是一个线性函数．对于自变量$\bvec{v}, \bvec{u}\in V$，我们注意到$\bvec{M}\bvec{v}$相当于$n$个向量$\bvec{m}_i$分别点乘$\bvec{v}$，得到的结果再排成一个行向量．

也就是说，一个$1$-线性函数，可以表示为一个向量，也即数字构成的行矩阵；一个$2$-线性函数，可以表示为线性函数构成的行矩阵．那么类似地，我们也可以定义$k$-线性函数为$(k-1)$-线性函数构成的行矩阵．如果要把向量、矩阵等拆开成数字，那么一个$k$-线性映射就被表示为一个由$n^k$个数字构成的$k$维阵列．一维阵列就是一个行向量，二维阵列就是一个$n\times n$矩阵，三维阵列就是一个$n\times n\times n$的立方体，以此类推．

\subsection{$k$阶张量}

一个$k$阶张量就是

%需要给出2-线性函数的例子

%%待完成，笔者先睡觉去了
