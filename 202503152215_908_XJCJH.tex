% 新基础集合论（综述）
% license CCBYSA3
% type Wiki

本文根据 CC-BY-SA 协议转载翻译自维基百科\href{https://en.wikipedia.org/wiki/New_Foundations}{相关文章}。

在数学逻辑中，新基础（New Foundations，简称 NF）是一种非良基、可有限公理化的集合论，由威拉德·范·奥曼·奎因构思，旨在简化《数学原理》中的类型论。
\subsection{定义}
NF 的良构公式是命题演算的标准公式，具有两个基本谓词：相等（\(=\)）和成员关系（\(\in\)）。NF 可以仅通过两个公理模式来表述：

\begin{itemize}
\item 外延性：具有相同元素的两个对象是相同的对象。形式化地说，给定任意集合 \( A \) 和任意集合 \( B \)，如果对于任意集合 \( X \)，\( X \) 是 \( A \) 的成员当且仅当 \( X \) 是 \( B \) 的成员，则 \( A \) 等于 \( B \)。
\item 受限的理解公理模式：对于每个分层公式\( \phi \)，集合 \( \{x \mid \phi\} \) 存在。
\end{itemize}
一个公式 \( \phi \) 被称为分层的，如果存在一个从 \( \phi \) 的语法结构的各部分到自然数的函数 \( f \)，使得：对于 \( \phi \) 中的任意原子子公式 \( x \in y \)，满足 \( f(y) = f(x) + 1 \)；对于 \( \phi \) 中的任意原子子公式 \( x = y \)，满足 \( f(x) = f(y) \)。
\subsubsection{有限公理化}
NF 可以被有限公理化。[1] 这种有限公理化的一个优点是，它消除了分层性的概念。有限公理化中的公理对应于一些自然的基本构造，而分层理解公理虽然强大，但不一定直观。在其入门书籍中，Holmes 选择将有限公理化作为基本框架，并将分层理解公理作为一个定理来证明。[2] 

具体的公理集合可能有所不同，但通常包含以下大部分公理，而其余的可以作为定理证明：[3][1]
\begin{itemize}
\item 外延性：如果 \( A \) 和 \( B \) 是集合，并且对于每个对象 \( x \)，\( x \) 是 \( A \) 的元素当且仅当 \( x \) 是 \( B \) 的元素，则 \( A = B \)。[4] 这一公理也可以视为对相等符号的定义。[5][6]
\item 单元素集：对于每个对象 \( x \)，集合 \( \iota(x) = \{x\} = \{y \mid y = x\} \) 存在，并称为 \( x \) 的单元素集。[7][8]
\item 笛卡尔积：对于任意集合 \( A \) 和 \( B \)，集合\(A \times B = \{(a, b) \mid a \in A \text{ 且 } b \in B\}\)称为 \( A \) 和 \( B \) 的笛卡尔积，并且它的存在性被保证。[9] 该公理可以限制为某个特定的交叉积，例如 \( A \times V \) 或 \( V \times B \) 的存在。[10][11]
\item 逆关系：对于每个关系 \( R \)，集合\(R^{-1} = \{(x, y) \mid (y, x) \in R\}\)存在；可以观察到，\( x R^{-1} y \) 当且仅当 \( y R x \)。[12][13][14]
\item 单元素映像：对于任意关系\( R \)，集合\(R\iota = \{(\{x\}, \{y\}) \mid (x, y) \in R\}\)存在，并称为\( R \)的单元素映像。[15][16][17]
\item 定义域：如果 \( R \) 是一个关系，则集合\(\text{dom}(R) = \{x \mid \exists y . (x, y) \in R\}\)存在，并称为 \( R \) 的定义域。[12] 这一公理可以通过类型降维操作来定义。[18]
\item 包含关系：集合\([\subseteq] = \{(x, y) \mid x \subseteq y\}\)存在。[19] 等价地，我们可以考虑集合\([\in] = [\subseteq] \cap (1 \times V) = \{(\{x\}, y) \mid x \in y\}\)的存在性。[20][21]
\item 补集：对于每个集合 \( A \)，其补集\(A^c = \{x \mid x \notin A\}\)存在。[22]
\item （布尔）并集：如果\(A\)和\(B\)是集合，则它们的并集\(A\cup B=\{x \mid x \in A\text{ 或 }x \in B\text{或两者皆是}\}\)存在。[23]
\item 全集：全集\(V = \{x \mid x = x\}\)存在。显然，对于任何集合\( \)，都有\(x \cup x^c = V\)其中\( x^c \)表示\( x \)的补集。[22]
\item 有序对：对于任意对象 \( a \) 和 \( b \)，有序对\((a, b)\)存在，并且\((a, b) = (c, d)\iff a = c \text{ 且 } b = d\)这种定义也可以推广到更大的元组。如果使用某种有序对的构造方法，则它可以被定义，而不作为一个独立的公理。[24]
\item 投影：集合\(\pi_1 = \{((x,y), x) \mid x, y \in V\}\)和\(\pi_2 = \{((x,y), y) \mid x, y \in V\}\)存在。这些集合对应于有序对的第一和第二分量的投影关系。[25]
\item 对角线关系：集合\([=] = \{(x, x) \mid x \in V\}\)存在，并被称为相等关系。[25]
\item 集合并：如果\( A \)是一个集合，并且\( A \)的所有元素都是集合，则集合并\(\bigcup [A] = \{x \mid \exists B, x \in B \text{ 且 } B \in A\}\)存在。[26]
\item 相对积：如果\( R \) 和 \( S \)是关系，则相对积\((R | S) = \{(x, y) \mid \exists z, x R z \text{ 且 } z S y\}\)存在。[12]
\item 反交：集合\(x | y = \{z \mid \neg (z \in x \land z \in y)\}\)存在。这一运算等价于补集和并集的组合，其中\(x^c = x | x\)和\(x\cup y =x^c | y^c\)[27]
\item 基数为 1 的集合：所有单元素集的集合\(1 = \{x \mid \exists y : (\forall w, w \in x \leftrightarrow w = y)\}\)存在。[28][29]
\item 元组插入：对于一个关系 \( R \)，集合\(I_2(R) = \{(z, w, t) \mid (z, t) \in R\}\)和\(I_3(R) = \{(z, w, t) \mid (z, w) \in R\}\)存在。[30][31]
\item 类型降维：对于任何集合 \( S \)，集合\(TL(S) = \{z \mid \forall w, (w, \{z\}) \in S\}\)存在。[32][33]
\end{itemize}
\subsubsection{类型化集合论}
新基础集合论与拉塞尔型的非分层类型化集合论密切相关。TST 是《数学原理》中类型论的简化版本，采用线性类型层次结构。在这种多排序理论（many-sorted theory）中，每个变量和集合都被赋予一个类型（type）。通常，类型指数使用上标表示：\(x^n\)表示类型为\( n \)的变量。类型\textbf{0}由未进一步描述的个体组成。对于每个（元）自然数\( n \)，类型\( n+1 \)的对象是类型\( n \)对象的集合。相等关系仅适用于相同类型的对象。类型\( n \)的集合仅包含类型\( n-1 \)的成员。TST 的公理包括：外延性：适用于相同（正）类型的集合。理解公理：如果\( \phi(x^n) \)是一个公式，则集合\(\{x^n \mid \phi(x^n)\}^{n+1}\)存在，即：\(\exists A^{n+1}\forall x^n [x^n \in A^{n+1} \leftrightarrow \phi(x^n)]\)是一个公理，其中\( A^{n+1} \)代表集合\(\{x^n \mid \phi(x^n)\}^{n+1}\)，并且\( A^{n+1} \)在\( \phi(x^n) \)中不是自由变量。这种类型论比《数学原理》中最初提出的类型论要简单得多，后者包括了关系的类型，而这些关系的参数不一定具有相同的类型。

NF 和 TST 之间存在一种类型标注的添加或删除的对应关系：在 NF 的理解模式中，公式是“分层的”当且仅当该公式可以按照 TST 的规则赋予类型。这意味着 NF 公式可以映射到 TST 公式的集合，其中每个 TST 公式都带有不同的类型索引。这种映射是一对多的，因为 TST 允许多个相似的公式。例如，在 TST 公式中，将所有类型索引提升 1，仍然会得到一个新的、有效的 TST 公式。
\subsubsection{纠缠类型论}
纠缠类型论（TTT）是TST的扩展，其中每个变量的类型由\textbf{序数}而非\textbf{自然数}标注。其良构的原子公式包括：相等关系：\( x^n = y^n \)成员关系：\( x^m \in y^n \)（其中 \( m < n \)）TTT 的公理与TST的公理相同，但其中每个类型为\( i \)的变量都会被映射到一个变量\( s(i) \)，其中 \( s \)是一个递增函数。

TTT 被认为是一种“怪异的”理论，因为它的每个类型都以相同的方式与所有较低类型相关。例如：类型 2 的集合既可以包含类型 1 的成员，也可以包含类型 0 的成员。\textbf{外延性公理}声明，类型 2 的集合仅由其类型 1 成员或类型 0 成员唯一确定。与 TST 不同：在 TST 中，自然模型满足每个类型\( i+1 \)都是类型\( i \)的\textbf{幂集}。在 TTT 中，每个类型同时被解释为所有较低类型的幂集。尽管如此：NF 的模型可以很容易地转换为 TTT 的模型，因为在NF 中，所有类型本质上都是相同的。反过来，经过更复杂的论证，可以证明 TTT 的一致性（Consistency of TTT）能够推出 NF 的一致性。[34]
\subsubsection{NFU 及其他变种}
\textbf{带有基数元素}的新基础集合论是 NF 的一个重要变种，由Jensen提出，[35]并由Holmes进一步澄清。[3]基数元素是不是集合的对象：它们不包含任何元素，但可以被包含在集合中。在 NFU 最简单的公理化形式之一中，基数元素被视为多个不同的\textbf{空集}，从而削弱了 NF 的外延性公理，改为：
\begin{itemize}
\item 弱外延性（Weak Extensionality）：两个非空对象如果具有相同的元素，则它们是相同的对象。形式化地：
\[
\forall x y w . (w \in x) \to (x = y \leftrightarrow (\forall z . z \in x \leftrightarrow z \in y))~
\]
\end{itemize}
这意味着：对于非空集合，外延性仍然成立。对于空集和基数元素，外延性不适用，它们可以是多个不同的对象。在这种公理化下：\textbf{理解模式}保持不变。但是，如果某个集合的定义公式\(\phi(x)\)无解（即不可满足），则集合\(\{x \mid \phi(x)\}\)可能不是唯一的（即它可以对应多个不同的基数元素）。

然而，为了方便使用，通常更希望有一个唯一的、“标准”空集。这可以通过引入集合性谓词\( \text{set}(x)\)来区分集合和基数元素（原子）。  
其公理如下：[36]
\begin{itemize}
\item 集合公理（Sets）：只有集合才有成员，即：\(\forall x y . x \in y \to \text{set}(y)\)解释：如果 \( x \) 是 \( y \) 的成员，则 \( y \) 必须是一个集合。这意味着基数元素不能包含任何成员，它们只能\textbf{被包含}在集合中。
\item 外延性公理（Extensionality）：两个具有相同元素的集合是相同的集合，即：\(\forall y z . (\text{set}(y) \land \text{set}(z) \land (\forall x . x \in y \leftrightarrow x \in z)) \to y = z.\)解释：只有当\( y \)和\( z \)都是集合时，才适用外延性。基数元素（原子）不受外延性约束，它们可以是多个不同的对象，即使它们没有元素。
\item 理解公理（Comprehension）：对于每个分层公式\(\phi(x)\)，集合\(\{x \mid \phi(x)\}\)存在，即：\(\exists A . \text{set}(A) \land (\forall x . x \in A \leftrightarrow \phi(x))\)解释：分层公式（Stratified formula）：满足 NF 逻辑规则的公式。集合\(A\)的存在性：只要\(\phi(x)\)符合 NF 的分层性规则，该集合就存在。
\end{itemize}
\(NF_3\)：NF 的一个子理论，仅允许最多三种类型的分层公式（即\(x, y, z\)这样的最多三层类型）。\(NF_4\)：与完整的 NF 等价，即没有基数元素，并且允许所有满足分层性条件的理解公理。

数学逻辑（Mathematical Logic, ML）是 NF 的扩展，它不仅包含集合，还包含\textbf{适当的类}。ML 由Quine提出，并由Hao Wang修订。Wang 证明，NF 与修订后的 ML 具有等一致性，即它们的一致性（无矛盾性）是等价的。
\subsection{构造} 
本节讨论NF中的一些具有问题的构造。关于NFU中数学的进一步发展，以及与ZFC体系中相应发展的比较，请参见集合论中数学的实现。
\subsubsection{有序对}  
在TST（以及NF和NFU）中，关系和函数通常被定义为有序对的集合。从分层性的角度来看，理想的情况是：一个关系或函数的类型应仅比其定义域中的元素的类型高一。这要求定义有序对的方式，使其类型与其参数相同（即类型级有序对，\textbf{type-level} ordered pair）。然而，常见的有序对定义：\((a, b)_K := \{\{a\},\{a, b\}\}\)会导致\((a, b)\)的类型比参数\(a\)和\(b\)的类型高两层。因此，在分层性分析中，一个函数的类型比其定义域中的元素高三层。在 NF 及其相关理论中，通常采用 Quine 的集合论定义的有序对，该定义能够保持有序对的类型与其参数相同，从而避免类型层次的额外提升。然而，Quine 的定义依赖于对每个元素\(a\)和\(b\)进行集合运算，因此在 NFU 中无法直接适用。

作为一种\textbf{替代方法}，Holmes[3] 直接将有序对 \( (a, b) \) 作为原始概念，并同时引入其左投影和右投影：左投影：\(\pi_1((a, b)) = a\)右投影：\(\pi_2((a, b)) = b\)在Holmes 对 NFU 的公理化中：\textbf{理解模式}——即对于任意分层公式\(\phi\)，集合\(\{x \mid \phi(x)\}\)的存在性——并非直接作为公理，而是后续证明的定理。

因此，类似于\(\pi_1 = \{((a, b), a) \mid a, b \in V\}\)
这样的表达式不能被视为正式的定义。幸运的是：无论有序对的类型层次（type-level）是通过定义（如 Quine 的方法）还是通过公理假设（即作为原始概念）来保证，通常都不会影响理论的一致性。
\subsubsection{自然数与无穷公理} 
通常形式的\textbf{无穷公理}基于冯·诺伊曼对自然数的构造。然而，该构造不适用于 NF，因为\textbf{后继运算}的定义（以及冯·诺伊曼数的许多其他方面）无法被分层化。 在 NF 中，通常使用弗雷格的自然数定义，即：自然数\( n \)由所有恰好有\(n\)个元素的集合的集合表示。在这种定义下：\textbf{零（0）}可以简单地定义为：\(\{\varnothing \}\)即仅包含空集的集合。\textbf{后继运算}可以以分层化的方式定义：\(S(A) = \{ a \cup \{x\} \mid a \in A \land x \notin a \}\)这里：\(A\)是某个自然数\( n\)对应的集合，\(x\)是一个新元素，不属于 \(a\)。在此定义下，可以写出类似于通常无穷公理的表述。然而，该表述在 NF 中将是平凡成立的，因为全集\(V\)本身就是一个\textbf{归纳集}，满足所有自然数构造规则。

由于\textbf{归纳集}总是存在，自然数集合\(\mathbf{N}\)可以定义为所有归纳集的交集。这一定义使得对分层语句\( P(n) \)进行数学归纳成为可能，因为：集合\(\{n \in \mathbf{N} \mid P(n)\}\)可以被构造。当\(P(n)\)满足数学归纳的条件时，该集合本身就是一个归纳集，从而满足数学归纳法的要求。

\textbf{有限集合}可以定义为属于某个自然数的集合。然而，证明全集\(V\)不是“有限集”（即\(|V|\)不是一个自然数）并不显然。假设：\(|V| = n \in \mathbf{N}\)
则：\(n = \{V\}\)（可以通过归纳证明，有限集合不与其任何真子集等势）。由此推导：\(n + 1 = S(n) = \varnothing\)并且所有后续的自然数也都会是空集，从而导致算术体系崩溃。为避免这一问题，可以在 NF 中\textbf{引入无穷公理}：\(\varnothing \notin \mathbf{N}\)这确保\(V\)的基数不会是有限数，从而维持算术的正确性。[37]

从直觉上看，似乎应该可以通过构造某种“外部”无限序列（externally infinite sequence）的集合来在 NF(U) 中证明无穷公理，例如：\(\varnothing, \{\varnothing\}, \{\{\varnothing\}\}, \dots\)然而，这样的序列只能通过非分层化的方法构造（这一点可以通过 TST 本身存在有限模型来佐证），因此无法在 NF(U) 中进行这样的证明。实际上，\textbf{无穷公理}在 NFU 中是逻辑上独立的：存在 NFU 的模型，其中\( |V| \)是非标准自然数。在这些模型中，数学归纳法可以应用于\( |V| \)，使得它无法与标准的自然数区分开来。

然而，在某些情况下，可以**在 NF 及其变种中证明无穷公理（Infinity）**，在这些情况下，它可能被称为*\textbf{无穷定理}（Theorem of Infinity）**：

\begin{itemize}
\item 1. **在 NF（无基数元素的版本）中**：
   - **Specker[38] 证明了选择公理（Axiom of Choice）在 NF 中是** **错误的**。
   - 由于可以通过**数学归纳法（induction）**证明**每个有限集合都具有一个选择函数（choice function）**（这是一个分层化的条件），
   - **因此全集 \( V \) 必然是无限的**。

2. **在 NFU 中，如果引入公理断言类型级有序对（type-level ordered pair）的存在**：
   - **全集 \( V \)** **与其真子集** \( V \times \{0\} \) **等势（equinumerous）**，这**蕴含无穷性（Infinity）**。[37]
   - **反过来**，NFU + Infinity + Choice **可以证明** **类型级有序对的存在**（但此结果尚需引用支持）。  
   - **NFU + Infinity** 可以**解释（interpret）NFU + “存在类型级有序对”**（虽然这两个理论不完全相同，但它们的差异并不重要）。
\end{itemize}

更强的无穷公理（Stronger Axioms of Infinity）**：
   - **可以假设自然数集合是一个强康托尔集合（strongly Cantorian set）**。
   - **NFUM**（即 **NFU + Infinity + Large Ordinals + Small Ordinals**）等价于**Morse–Kelley 集合论（Morse–Kelley Set Theory, MK）**，再加上一个对适当类（proper classes）的谓词，该谓词是一个**κ-完备（κ-complete）**的非主超滤（nonprincipal ultrafilter），定义在适当类的序数 \( \kappa \) 上。[39]