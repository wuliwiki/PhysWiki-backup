% 导数的计算（高中）
% keys 导数|求导
% license Usr
% type Tutor

\begin{issues}
\issueDraft
\end{issues}

\pentry{导数\nref{nod_HsDerv}}{nod_ed15}

为了更高效地计算函数的导数，数学家在实践中总结和发展了许多求导方法。这些方法不仅大大简化了计算过程，还将求导从一个过程提升为独立的数学运算。在高中阶段，能够快速且熟练地使用这些求导方法是数学学习的基础。然而，高中教材中对求导公式的处理通常是直接给出结果，供学生直接应用，而未深入说明这些公式的推导过程。这种方式虽然足以应对考试和解题，但在数学的逻辑性和严谨性上有所欠缺。

为了为对数学推导感兴趣的读者提供进一步探索的机会，本文将在总结教材中公式的基础上，尝试在高中生能够接受的范围内，尽量给出这些公式的推导和证明过程。需要强调的是，这些推导并非高中学习的必备内容，而是面向那些希望了解数学本质、追求逻辑严谨性的学习者。通过这些推导，读者不仅能更深入地理解公式的来源，还能从中感受到数学推理的魅力，以及逻辑思维的力量。

\subsection{总结对照表}

下面先介绍导数的运算法则，为记录方便，记$f=f(x),g=g(x),f'=f'(x),g'=g'(x)$。
\begin{table}[ht]
\centering
\caption{导数运算法则}\label{tab_HsDerB1}
\begin{tabular}{|c|c|}
\hline
和差 & $(f\pm g)'=f'\pm g'$ \\
\hline
积 & $(fg)'=f'g+fg'$ \\
\hline
商 & $\displaystyle\left(\frac{f}{g}\right)'=\frac{f'g-fg'}{g^2}$ \\
\hline
倒数 & $\displaystyle\left(\frac{1}{g}\right)'=-\frac{g'}{g^2}$ \\
\hline
复合函数 & $(f(g))'=f'(g)g'$ \\
\hline
\end{tabular}
\end{table}

关于导数的运算法则，有几点需要注意的：
\begin{itemize}
\item 加法法则体现了导数运算的线性特性，即两个函数的和的导数等于各函数导数的和。
\item 初学者常因数字计算的习惯而误认为$(f \cdot g)'= f'\cdot g'$，$\displaystyle\left(\frac{f}{g}\right)'=\frac{f'}{g'}$，事实上这两种计算方法是错误的。
\item 商法则的适用条件是分母$g\neq0$ 且导数$g'$存在。
\item 商法则和倒数法则中的$g^2$指的是将分母原本的函数平方，完全书写则应为$[g(x)]^2$，而非$g^2(x)$\footnote{不排除某些不严谨的场合会有人这样用。$g^2(x)$一般是表示复合函数$g\left(g(x)\right)$。}。
\item 倒数法则是商法则的一个特例，即$f=1$。
\item 复合函数的导数运算通常称为\textbf{链式法则（chain rule）}。在初学阶段，可以通过明确拆分内外函数并分别求导的方式来理解链式法则。熟练后，则可直接应用链式法则进行计算。$f'(g)$表示的，是以$g$作为自变量时的$f$的导数。
\end{itemize}

下面以一个例子来解释复合函数求导法则的使用。

\begin{example}{求$f(2x+3)$的导数。}

$f(2x+3)$是一个复合函数，可以表示为：$y = f(t) , t = 2x+3$。因此，其导数计算如下：

\begin{equation}\label{eq_HsDerB_1}
\left(f(2x+3)\right)' = f'(t) \cdot t' = f'(2x+3) \cdot t'~.
\end{equation}

根据后续的求导公式可知 $t' = 2$，将其代入\autoref{eq_HsDerB_1} ，得到：

\begin{equation}\label{eq_HsDerB_2}
\left(f(2x+3)\right)' = 2f'(2x+3)~.
\end{equation}

需要特别注意的是，$\left(f(2x+3)\right)'$ 和 $f'(2x+3)$ 是两个不同的表达式，初学者常常误以为二者相同，进而错误地在公式两侧约分，得出 $1 = 2$ 或 $f'(2x+3) = 0$ 的荒谬结论。事实上，$\left(f(2x+3)\right)'$ 指的是复合函数的导数，而 $f'(2x+3)$ 则仅指函数 $f$ 的导数。因此，在书写和理解时，务必要通过括号清楚地区分两者，以避免不必要的混淆和错误。
\end{example}


下面是常见的初等函数与导数对照表。

\begin{table}[ht]
\centering
\caption{高中常见初等函数及其导数}\label{tab_HsDerB2}
\begin{tabular}{|c|c|c|}
\hline
\textbf{函数名称}     & \textbf{函数 $f(x)$}     & \textbf{导函数 $f'(x)$}     \\ \hline
常数&$c$                    & $0$                \\ \hline
\enref{幂函数}{power}（$a\neq-1$）&$x^a$                    & $a x^{a-1}$                \\ \hline
指数函数（$\E$为底）&$\E^x$                     & $\E^x$                      \\ \hline
对数函数（$\E$为底）&$\ln(x)$                  & $\displaystyle\frac{1}{x}$              \\ \hline
反比例函数&$\displaystyle\frac{1}{x}$             & $\displaystyle-\frac{1}{x^2}$           \\ \hline
\enref{指数函数}{HsExpF}&$a^x$                     & $a^x\ln a $                      \\ \hline
\enref{对数函数}{Ln}&$\log_a(x)$                  & $\displaystyle \frac{1}{x\ln a}$              \\ \hline
\enref{正弦函数}{HsTrFu}&$\sin(x)$                 & $\cos(x)$                  \\ \hline
\enref{余弦函数}{HsTrFu}&$\cos(x)$                 & $-\sin(x)$                 \\ \hline
\enref{正切函数}{HsTrFu}&$\tan(x)$                 & $\displaystyle \frac{1}{\cos^2(x)}$                \\ \hline
\end{tabular}
\end{table}

表中常数函数和反比例函数实际上可以看作幂函数的一种特例。例如，常数函数对应幂函数 $x^a$ 中 $a=0$ 的情形，而反比例函数 $\displaystyle y = \frac{1}{x}$ 则对应 $a = -1$ 的情形。而对数函数$\log_a x$和指数函数$a^x$均可以视为通过换底公式变成以$\E$为底的对应函数$\displaystyle\frac{1}{\ln a}\ln x$以及$e^{x\ln a}$，再进行运算，减少记忆量。

另外，初学者在学习求导时，往往会混淆反比例函数、常数函数以及以 $\E$ 为底的对数函数：
\begin{itemize}
\item 对于常数函数 $f(x) = x^0 = 1$，其导数实际上为 $f'(x) = 0$。部分初学者可能因 $x^n$ 的求导公式（$n \neq 0$ 时 $f'(x) = nx^{n-1}$）的惯性，误认为 $f'(x)$ 为 $\displaystyle\frac{1}{x}$。
\item 反比例函数 $f(x) = \displaystyle\frac{1}{x}$ 的导数为 $f'(x) = -\displaystyle\frac{1}{x^2}$，而以 $\E$ 为底的对数函数 $f(x) = \ln x$ 的导数为 $f'(x) = \displaystyle\frac{1}{x}$。初学者容易因为对数函数的导数公式中有 $\displaystyle\frac{1}{x}$ 的形式，将其与反比例函数混淆。
\end{itemize}

表格中单独列出这些函数及其导数公式，希望能够帮助读者更加清晰地理解和区分。


\subsection{求导法则推导*}

在下面的所有推导之前，先回顾一下导数的\aref{定义}{def_HsDerv_1}，根据这个定义和导函数的描述，可以得到导函数的定义。
\begin{definition}{导函数}
对于函数 $f(x)$，其导函数是在 $f(x)$ 的定义域内所有导数存在的点构成定义域，导数值作为函数值的函数，记作$f'(x)$，即：
\begin{equation}
f'(x)=\lim_{\Delta x\to0}\frac{f(x+\Delta x)-f(x)}{\Delta x}~.
\end{equation}
\end{definition}

注意这里的区别就是原本导数定义中具体数$x_0$变成了变量$x$，计算结果也就从一个数变成了函数。


\subsubsection{和差法则}

\begin{equation}
\begin{split}
\left[f(x)\pm g(x)\right]'&=\lim_{\Delta x\to 0}\frac{[f(x+\Delta x)\pm g(x+\Delta x)]-[f(x)\pm g(x)]}{\Delta x}\\
&=\lim_{\Delta x\to 0}\frac{[f(x+\Delta x)-f(x)]\pm [g(x+\Delta x)]-+g(x)]}{\Delta x}\\
&=\lim_{\Delta x\to 0}\frac{f(x+\Delta x)-f(x)}{\Delta x}\pm\lim_{\Delta x\to 0}\frac{g(x+\Delta x)-g(x)}{\Delta x}\\
&=f'(x)\pm g'(x)~.
\end{split}
\end{equation}


这个求导法则是符合生活中的直观认知的，是生活中常用的。如果两个人分别以一定的速度完成各自的任务，合起来的速度就是两者速度的相加。

\subsubsection{积法则}
\begin{equation}
\begin{split}
\left[f(x)\cdot g(x)\right]'&=\lim_{\Delta x\to 0}\frac{f(x+\Delta x)\cdot g(x+\Delta x)-f(x)\cdot g(x)}{\Delta x}\\
&=\lim_{\Delta x\to 0}\frac{f(x+\Delta x)\cdot g(x+\Delta x)-f(x)\cdot g(x+\Delta x)+f(x)\cdot g(x+\Delta x)-f(x)\cdot g(x)}{\Delta x}\\
&=\lim_{\Delta x\to 0}\frac{f(x+\Delta x)-f(x)}{\Delta x}\cdot g(x+\Delta x)+\lim_{\Delta x\to 0}f(x)\cdot\frac{g(x+\Delta x)-g(x)}{\Delta x}\\
&=f'(x)g(x)+f(x) g'(x)~.
\end{split}
\end{equation}
可以想象一个池塘，水面上漂着一片荷叶。假设池塘面积和荷叶的覆盖率都在增长，那么整个覆盖面积的变化不仅取决于池塘的变化，还取决于荷叶本身的变化。

\subsubsection{商法则}
先求倒数的导数。
\begin{equation}
\begin{split}
\left[\frac{1}{g(x)}\right]'&=\lim_{\Delta x\to 0}\frac{\displaystyle\frac{1}{g(x+\Delta x)}-\frac{1}{g(x)}}{\Delta x}\\
&=\lim_{\Delta x\to 0}\frac{g(x)-g(x+\Delta x)}{g(x+\Delta x)g(x)\Delta x}\\
&=-\lim_{\Delta x\to 0}\frac{\frac{g(x+\Delta x)-g(x)}{\Delta x}}{g(x+\Delta x)g(x)}\\
&=-\frac{g'(x)}{[g(x)]^2}~.
\end{split}
\end{equation}

从而商法则为：
\begin{equation}
\begin{split}
\left[f(x)\cdot \frac{1}{g(x)}\right]'&=f'(x)\frac{1}{g(x)}+f(x) [\frac{1}{g(x)}]'\\
&=\frac{f'(x)}{g(x)}-\frac{f(x)g'(x)}{[g(x)]^2}\\
&=\frac{f'(x)g(x)-f(x)g'(x)}{[g(x)]^2}~.
\end{split}
\end{equation}

\subsubsection{链式法则}

对于复合函数$f\left(g(x)\right)$，设$y=f(t),t=g(x)$，从而根据定义有：
\begin{equation}
f'(t)=\lim_{\Delta t\to 0}\frac{f(t+\Delta t)-f(t)}{\Delta t}~.
\end{equation}
\begin{equation}
g'(x)=\lim_{\Delta x\to 0}\frac{g(x+\Delta x)-g(x)}{\Delta x}~.
\end{equation}
而对$\Delta x\to 0$的情况下，根据之前导数的另一种表达形式$\displaystyle f'(x)=\lim_{\Delta x\to 0}\frac{\Delta y}{\Delta x}$，可知这时有：
\begin{equation}
\Delta t=g(x+\Delta x)-g(x)~.
\end{equation}
于是
\begin{equation}
\begin{split}
\left[f(g(x))\right]'&=\lim_{\Delta x\to 0}\frac{f(x+\Delta x)\cdot g(x+\Delta x)-f(x)\cdot g(x)}{\Delta x}\\
&=\lim_{\Delta x\to 0}\frac{f(x+\Delta x)\cdot g(x+\Delta x)-f(x)\cdot g(x+\Delta x)+f(x)\cdot g(x+\Delta x)-f(x)\cdot g(x)}{\Delta x}\\
&=\lim_{\Delta x\to 0}\frac{f(x+\Delta x)-f(x)}{\Delta x}\cdot g(x+\Delta x)+\lim_{\Delta x\to 0}f(x)\cdot\frac{g(x+\Delta x)-g(x)}{\Delta x}\\
&=f'(x)g(x)+f(x) g'(x)~.
\end{split}
\end{equation}
\subsection{基本初等函数的导数推导}

