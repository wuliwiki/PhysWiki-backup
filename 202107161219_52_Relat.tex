% 二元关系
% keys 二元关系|等价关系|等价类

\pentry{集合\upref{Set}}

\subsection{关系}

在 “集合\upref{Set}” 中我们只关心了集合的基数，即集合中元素的数目．在这种语境下，任何两个元素数量相同的集合都可以看作是同一个集合．但是仅仅讨论集合的基数未免太过单调，缺少了很多有意思的理论，于是我们希望在集合的元素之间建立一些结构，来进行更细致的划分和研究．

\textbf{关系（relation）}是集合上最基础的一种结构．给定一个关系，我们就可以讨论一些元素之间\textbf{是否满足}这个关系．比如说，如果取一家三口构成一个集合，$\sim$ 代表的是“年龄大于”，那么我们可以说“爸爸对于孩子具有这个关系”，但是反过来“孩子对于爸爸不具有这个关系”．从这个例子可以看出，关系的表达方式很灵活，而且可以是有方向性的．讨论关系时，我们唯一关心的是给定元素之间是否具有这样的关系．

关系可以用在两个元素之间，也可以用在三个元素之间，甚至可以用在不特定的元素之间．

\subsection{二元关系}

在绝大多数数学和物理领域，我们只关心集合上的\textbf{二元关系（binary relation）}．如果 $\sim$ 是在集合 $A$ 上定义的一个二元关系，那么任意给定两个元素，我们都可以讨论它们之间是否具有这种关系，但如果给定三个元素，讨论就没有意义了．比如，如果 $\sim$ 的定义是“年龄大于”，那么把三个人的年龄都拿过来比较就没有意义；不过，如果 $\sim$ 的定义是“比后面两个人的年龄都大”，那么 $\sim$ 就可以用在三个人身上．

对于集合 $A$ 上的二元关系 $\sim$，如果 $x, y\in A$ 满足这个关系，我们可以把这句话表述为 $x\sim y$．如果不满足，则可以表述为 $x\not\sim y$．用这样简洁的表示方法，我们可以把以上“年龄大于”的关系表述如下：
\begin{equation}
\text{爸爸}\sim\text{孩子} \qquad
\text{妈妈}\sim\text{孩子} \qquad
\text{孩子}\not\sim\text{爸爸} \qquad
\text{孩子}\not\sim\text{妈妈} \qquad
\end{equation}
爸爸和妈妈之间，在没有进一步信息的情况下，无法判断是否满足这个关系，但这个关系是存在的．也就是说，元素间的关系一共有两种状态：满足和不满足．

\subsection{等价关系}
最基础的一类关系，是\textbf{等价关系（equivalence）}． 在集合 $A$ 上定义的关系 $\sim$ 是一个等价关系，要求满足条件：
\begin{enumerate}
\item \textbf{自反性}：$\forall x\in A, x\sim x$；
\item \textbf{对称性}：$\forall x, y\in A, x\sim y \Rightarrow y\sim x$；
\item \textbf{传递性}：$\forall x, y, z\in A, x\sim y, y\sim z\Rightarrow x\sim z$．
\end{enumerate}
如果把“具有关系 $\sim$”看成是两个元素间相互连接（没有方向性，因为对称性），传递性保证了当多个元素相连时，这些元素也两两互联；自反性甚至保证了每个元素必然和自身相连．由此一来，我们可以根据等价关系把集合 $A$ 划分成\textbf{等价类（equivalence class）}，每个等价类都是 $A$ 的一个子集，所包含的元素彼此相连．

等价类的划分是数学中非常重要的思维方法，它可以将每一个等价类中的元素都看成是无差别的，大大简化一个集合的复杂程度．有了等价关系后，我们可以用相应的等价类来组成一个新的集合，这样的集合被称作\textbf{商集（quotient set）}．和原来集合中的元素不一样，商集中的元素是原集合中的子集．

作为例子，我们取全体非负整数的集合 $\mathbb{Z}$，并在上面定义关系 $\sim$ 为“两数的差是3的倍数”，那么容易验证，$1\sim4, 7\sim304, 0\not\sim 77, 77\not\sim 1$． 利用这个等价关系，我们可以把非负整数集合划分成三个等价类，分别是 $\{0, 3, 6, 9, 12\cdots \}$，$\{1, 4, 7, 10, 13\cdots\}$ 和 $\{2, 5, 8, 11, 14\cdots\}$． 这样，我们可以得到一个含有三个元素的商集，用数学专业术语来说，叫做集合 $A$ 模去关系 $\sim$ 所得的商集．这里的\textbf{模（mod）}的意思来自于“除法”，在群论\upref{Group1}中会看到为什么用除法来命名商集．

\subsection{序关系}
另一类比较基础的关系是\textbf{序关系（ordering relation）}．在集合$A$上定义的关系$\prec$（一般也可以写成$\leq$或$\leqslant$）是一个序关系，要求满足条件：
\begin{enumerate}
\item \textbf{自反性}：$\forall x\in A,x\prec x$；
\item \textbf{反对称性}：$\forall x,y\in A,\ x\prec y,\ y\prec x \Rightarrow x = y $；
\item \textbf{传递性}：$\forall x,y,z\in A,\ x\prec y,\ y\prec z \Rightarrow x\prec z $．
\end{enumerate}

\begin{definition}{偏序集、半序集}
如果一个集合$A$上定义了一个序关系$\prec$，那么称这个集合是带有偏序$\prec$的\textbf{偏序集（partially ordered set）}或\textbf{半序集}．
\end{definition}

带有偏序$\prec$的偏序集$A$通常记作$(A,\prec)$．在不致混淆的情况下，可以简称为偏序集$A$．偏序集上的序关系称为\textbf{偏序关系（partially ordered relation）}．

\begin{example}{}
各种数集（包括$\mathbb{N},\mathbb{Z},\mathbb{Q},\mathbb{R},\mathbb{C}$）按通常的序关系构成偏序集.

其中复数集$\mathbb{C}$上的序关系比较特殊，复数$a_1+b_1\I \leq a_2+b_2\I$当且仅当$a_1\leq a_2$且$b_1 \leq b_2$．复数的序关系通常不使用．
\end{example}
\begin{example}{字典序}\label{Relat_ex1}
已知$(A,\prec),(B,\leq)$是两个偏序集，那么笛卡尔积$A\times B$按某个序关系$\leqslant$构成偏序集．这个序关系$\leqslant$满足：
\begin{enumerate}
\item $\forall(a_1,b_1),(a_2,b_2) \in A\times B, a_1\prec a_2 \Rightarrow (a_1,b_1)\leqslant(a_2,b_2)$；
\item $\forall(a_1,b_1),(a_2,b_2) \in A\times B, a_1=a_2, b_1\leq b_2 \Rightarrow (a_1,b_1) \leqslant (a_2, b_2)$．
\end{enumerate}

由于字典通常按照这样的顺序编排\footnote{比如，字典中单词in在a后，在it前．}，因此这种序关系称为字典序．
\end{example}
\begin{example}{幂集}
一个集合$A$的幂集\footnote{即集合$A$所有子集的集合．}$2^X$与子集关系一起构成偏序集.
\end{example}

\begin{definition}{全序集}
偏序集$(A,\prec)$称为\textbf{全序集（totally ordered set）}或\textbf{有序集（ordered set）}，当且仅当对任意$a,b \in A$，$a \prec b$或$b \prec a$．
\end{definition}
全序集上的序关系称为\textbf{全序关系（totally ordered relation）}．
\begin{example}{}
数集$\mathbb{N},\mathbb{Z},\mathbb{Q},\mathbb{R}$按通常的序关系构成全序集.
\end{example}
\begin{example}{}
将\autoref{Relat_ex1} 中的偏序集$A,B$换成全序集，则按同样的序关系，$A\times B$也构成全序集．
\end{example}

\begin{definition}{极小元、极大元}
已知偏序集$(A,\prec)$：
\begin{enumerate}
\item 如果存在某个$a \in A$，使得对任意$x \in A, x\neq a$都有$a \prec x$，那么称$a$为偏序集$A$的\textbf{极小元（minimal element）}．
\item 如果存在某个$b \in A$，使得对任意$x \in A, x\neq b$都有$x \prec b$，那么称$b$为偏序集$A$的\textbf{极大元（maximal element）}．
\end{enumerate}
\end{definition}

\begin{definition}{最小元、最大元}
已知偏序集$(A,\prec)$的某个非空子集$B$：
\begin{enumerate}
\item 如果存在某个$a \in B$，使得$\forall x \in B, a \prec x$．那么$a$被称为$B$的\textbf{最小元（least element）}；
\item 如果存在某个$b \in B$，使得$\forall x \in B, x \prec b$．那么$b$被称为$B$的\textbf{最大元（greatest element）}．
\end{enumerate}
\end{definition}

\begin{definition}{良序集}
全序集$(A,\prec)$称为\textbf{良序集（well-ordered set）}，当且仅当它的任意非空子集都有极小元．
\end{definition}

良序集上的序关系称为\textbf{良序关系（well-ordered relation）}．