% Python 字符串处理

\pentry{Python 简介\upref{Python}}

\subsection{字符串处理}
\textbf{字符串（string）}可以想i想由字符构成的特殊数组， 一般用于储存一段文字． 一个字符串变量如
\begin{lstlisting}[language=python]
s = 'python String 字符串'
\end{lstlisting}
注意也可以使用双引号 \verb|"..."|． 用 \verb|type(s)| 查看类型得到 \verb|str|， 即 string 的缩写．

\verb|len(s)| 用于获取字符串长度
\begin{lstlisting}[language=python]
print('s = ', s, '; length = ', len(s))
\end{lstlisting}

\subsubsection{字母处理}
\begin{itemize}
\item 全部变为大写：\verb|s.upper()|
\item 全部变为小写：\verb|s.lower()|
\item 大小写互换：\verb|s.swapcase()|
\item 首字母大写，其余小写：\verb|s.capitalize()|
\item 首字母大写：\verb|s.title()|
\end{itemize}

\begin{lstlisting}[language=python]
s = 'python String function'
print('%s lower=%s' % (s,s.lower()))
print('%s upper=%s' % (s,s.upper()))
print('%s swapcase=%s' % (s,s.swapcase()))
print('%s capitalize=%s' % (s,s.capitalize()))
print('%s title=%s' % (s,s.title()))
输出：
python String function lower=python string function
python String function upper=PYTHON STRING FUNCTION
python String function swapcase=PYTHON sTRING FUNCTION
python String function capitalize=Python string function
python String function title=Python String Function
\end{lstlisting}
\subsubsection{格式化相关}
获取固定长度，右对齐，左边不够用空格补齐：\verb|s.ljust(width)|

获取固定长度，左对齐，右边不够用空格补齐：\verb|s.ljust(width)|

获取固定长度，中间对齐，两边不够用空格补齐：\verb|s.ljust(width)|

获取固定长度，右对齐，左边不足用0补齐

\begin{lstlisting}[language=python]
s='python String'
print('%s ljust=%s' % (s,s.ljust(20)))
print('%s rjust=%s' % (s,s.rjust(20)))
print('%s center=%s' % (s,s.center(20)))
print('%s zfill=%s' % (s,s.zfill(20)))
输出：
python String ljust=python String       
python String rjust=       python String
python String center=   python String    
python String zfill=0000000python String

\end{lstlisting}

\subsubsection{字符串搜索相关}
搜索指定字符串，没有返回-1：\verb|s.find('t')|

指定起始位置搜索：\verb|s.find('t',start)|

指定起始及结束位置搜索：\verb|s.find('t',start,end)|

从右边开始查找：\verb|s.find('t')|

搜索到多少个指定字符串：\verb|s.count('t')|

\begin{lstlisting}[language=python]
s='python String function'
print('%s find nono=%d' % (s,s.find('nono')))
print('%s find t=%d' % (s,s.find('t')))
print('%s find t from %d=%d' % (s,1,s.find('t',1)))
print('%s find t from %d to %d=%d' % (s,1,2,s.find('t',1,2)))
print('%s rfind t=%d' % (s,s.rfind('t')))
print('%s count t=%d' % (s,s.count('t')))
输出：
python String function find nono=-1
python String function find t=2
python String function find t from 1=2
python String function find t from 1 to 2=-1
python String function rfind t=18
python String function count t=3
\end{lstlisting}

\subsubsection{字符串替换相关}

替换old为new：\verb|s.replace('old','new')|

替换指定次数的old为new：\verb|s.replace('old','new',maxReplaceTimes)|


\subsubsection{字符串去空格及去指定字符}

去两边空格：\verb|s.strip()|

去左空格：\verb|s.lstrip()|

去右空格：\verb|s.rstrip()|

去两边字符串：\verb|s.strip('d')|，相应的也有\verb|lstrip，rstrip|

按指定字符分割字符串为数组：\verb|s.split(' ')|

\begin{lstlisting}[language=python]
s=' python String function '
print('%s strip=%s' % (s,s.strip()))
s='python String function'
print('%s strip=%s' % (s,s.strip('d')))
\end{lstlisting}



\subsubsection{翻转字符串}
\begin{lstlisting}[language=python]
sStr1 = 'abcdefg'
sStr1 = sStr1[::-1]
print(sStr1)
输出
gfedcba
\end{lstlisting}

\subsubsection{连接字符串}
\begin{lstlisting}[language=python]
delimiter = ','
mylist = ['Brazil', 'Russia', 'India', 'China']
print (delimiter.join(mylist))
print('abc'+'def')
输出
Brazil,Russia,India,China
abcdef
\end{lstlisting}

\subsubsection{截取字符串}
\begin{lstlisting}[language=python]
s='0123456789'
print(s[0:3]) #截取第一位到第三位的字符
print(s[:]) #截取字符串的全部字符
print(s[6:]) #截取第七个字符到结尾
print(s[:-3]) #截取从头开始到倒数第三个字符之前
print(s[2]) #截取第三个字符
print(s[-1]) #截取倒数第一个字符
print(s[::-1]) #创造一个与原字符串顺序相反的字符串
print(s[-3:-1]) #截取倒数第三位与倒数第一位之前的字符
print(s[-3:]) #截取倒数第三位到结尾
输出：
012
0123456789
6789
0123456
2
9
9876543210
78
789
\end{lstlisting}


关于更多高效的字符串处理方法，感兴趣的读者可以查阅正则表达式的使用方法．
