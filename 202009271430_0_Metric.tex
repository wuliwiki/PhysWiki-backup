% 度量空间
% keys 度量空间|欧几里得空间|距离函数

\pentry{集合\upref{Set}}

度量空间是除拓扑空间\upref{Topol}外最广义的空间． 它在集合的基础上增加了长度的概念．
\begin{figure}[ht]
\centering
\includegraphics[width=5cm]{./figures/Metric_2.pdf}
\caption{用维恩图表示几种不同空间之间的关系， 从内到外分别是内积空间\upref{InerPd}， 赋范空间\upref{NormV}， 度量空间， 拓扑空间\upref{Topol}（修改自维基百科）} \label{Metric_fig2}
\end{figure}

\begin{definition}{度量空间}\label{Metric_def2}
一个集合中任意两个元素 $u, v$ 间若定义了满足以下条件的\textbf{距离函数（distance function）} $d(u, v)$ （函数值为实数）， 那它就是一个\textbf{度量空间（metric space）}． 集合中的每个元素就叫空间中的一个\textbf{点}．
\begin{itemize}
\item 正定性：$d(u, v) \geq 0$，且$d(u, v)=0$当且仅当$u=v$
\item 对称性：$d(u, v) = d(v, u)$
\item 三角不等式：$d(u, v) \leqslant d(u, w) + d(w, v)$
\end{itemize}
\end{definition}
其中 “三角不等式” 就是通常所说的 “三角形两边之和不小于第三边”， 移向后就变为 “两边之差不大于第三边”．
\addTODO{修改批注：将原先的四个条件整合成三个条件，并冠以数学界习惯的名称，方便学生记忆．}

\begin{example}{欧几里得空间}\label{Metric_ex1}
$N$ 维欧几里得空间 $\mathbb R^N$ 中通常定义距离函数为
\begin{equation}\label{Metric_eq1}
d(x, y) = \sqrt{\sum_{i=1}^N (x_i - y_i)^2}
\end{equation}
那么它是一个度量空间（证明留做习题）．

特殊地， 实数域 $\mathbb R$ 通常的距离函数为 $d(x, y) = \abs{x - y}$．
\end{example}

日常生活中， 我们关于距离的直观概念都是建立在\autoref{Metric_ex1} 的基础上的， 但度量空间是非常广义和抽象\upref{Abstra}的． 例如上例中 $d(x, y) = \abs{x^3 - y^3}$ 也可以是 $\mathbb R$ 的距离函数； 又例如我们可以把一些函数的集合看成一个度量空间：
\begin{example}{}
所有 $f:\mathbb R \to \mathbb R$ 函数\upref{functi}的集合是一个度量空间， 如果定义距离函数为
\begin{equation}
d(f, g) = \max{\abs{f(x) - g(x)}}
\end{equation}
证明留做习题．
\end{example}

\begin{corollary}{}
度量空间 $X$ 的子集 $A$ 若继承 $X$ 的距离函数， 那么 $A$ 也是一个度量空间．
\end{corollary}
证明显然．

\subsection{对比线性空间}
虽然比起线性空间\upref{LSpace}， 度量空间有距离的概念而线性空间却不一定． 线性空间必须定义 “加法” 和 “标量积” 两种运算而度量空间不必． 线性空间的 “零元” 在度量空间也不必存在．

\subsection{度量空间中的基本概念}
度量空间与一般集合的最大区别就是元素之间有了距离的概念． 利用距离函数我们可以定义许多度量空间特有的基本概念．

\begin{definition}{邻域}
给定一个半径 $r > 0$， 度量空间 $X$ 中的一点 $x$ 周围所有满足 $d(x, y) < r$ 的点 $y \in X$（包括 $x$ 自己）就是 $x$ 在 $X$ 中的一个\textbf{邻域（neighborhood）} $N_r$． 如果将邻域去掉 $x$ 本身， 就叫做\textbf{去心邻域（deleted/punctured neighbourhood）}．
\end{definition}
注意邻域取决于所讨论的度量空间， 例如即使当 $x$ 和 $r$ 不变， 当 $X$ 分别取有理数集和实数集时， 邻域 $N_r$ 也是不同的． 以下许多概念也与讨论的空间有关， 所以在讨论时我们需要明确使用哪个空间．

\begin{definition}{内点}
给定度量空间 $X$ 的一个子集 $A$． 如果某点 $x\in A$ 在 $X$ 中的某邻域是 $A$ 的子集， 那么 $x$ 就是集合 $A$ 的\textbf{内点（interior point）}．
\end{definition}
一个点是否是内点取决于 $A$ 的定义， 显然如果令 $A = X$， 那么任何点都是内点．

\begin{definition}{极限点，离散点}
给定度量空间 $X$ 中的一点 $x$， 如果对任意的 $r > 0$， $x$ 的去心邻域都不为空， 那么 $x$ 就是集合 $X$ 的一个\textbf{极限点（limit point）}． 如果一个点不是极限点， 它就是\textbf{离散点（discrete point）}．
\end{definition}
例如有理数（作为 $\mathbb R$ 的一个子集）的极限点却不一定是有理数， 例如 $\sqrt{2}$ 的任意邻域中都有无穷个有理数， 所以是有理数集的一个极限点， 但 $\sqrt{2}$ 却是无理数．

\begin{corollary}{}
度量空间 $X$ 中的点 $x$ 是极限点的充分必要条件是， $x$ 的任意去心邻域都有无穷多个点．
\end{corollary}
证明： 是用反证法． 如果 $x$ 的某个去心领域只有有限个点， 那么必定能找到离 $x$ 最近的一点 $y$， 那么对于任意的 $r < d(x, y)$， $x$ 的去心邻域为空， 与定义矛盾．证毕．

\begin{example}{}
有理数集或实数集（$\mathbb R$） 构成的度量空间中任意一点都是极限点（证明显然）．
\end{example}

\begin{definition}{序列的极限}\label{Metric_def1}
给定度量空间 $X$ 中的无穷个点组成的\textbf{序列（sequence）} $x_1, x_2, \dots$ 以及一点 $x$， 若对任意给定的 $\epsilon > 0$， 总存在 $N$ 使得当 $n > N$ 时就有 $d(x_n, x) < \epsilon$， 那么 $x$ 就是该序列的\textbf{极限（limit）}．
\end{definition}
需要注意： 度量空间中序列的极限未必是极限点， 例如整数集 $\mathbb Z$ 中的序列 $1, 2, 3, 3, 3, \dots$ 的极限是 $3$， 但 $\mathbb Z$ 中任意一点都不是（$\mathbb Z$ 的）极限点． 2. 极限必须属于 $X$． 例如在 “所有大于零的实数中”， 序列 $1, 1/2, 1/3, \dots$ 不存在极限， 但若改为 “所有实数中”， 那么它就\textbf{存在极限}．

% \begin{definition}{集合的极限点}
%（错！）若 $A$ 是度量空间 $X$ 的一个子集， 且 $X$ 的一个极限点 $x$ 的某个去心邻域是 $A$ 的子集， 那么 $x$ 就是子集 $A$ 的一个极限点， 无论 $x$ 是否属于 $A$．
% \end{definition}

\subsection{开集和闭集}
我们知道开区间就是实数域 $\mathbb R$ 的开集， 任意开区间的并和有限开区间的交也是开集． 下面我们对任意度量空间给出开集的定义． 由于度量空间是一种拓扑空间\upref{Topol}， 那么可以证明以下定义的开集同样满足拓扑空间中对开集的要求， 即 “有限交任意并” 也都是开集．





我们可以使用距离函数直接定义开集和闭集．
\begin{definition}{度量空间的开集}
若度量空间 $X$ 的子集 $A$ 中的任意一点都是内点， 那么 $A$ 就是一个\textbf{开集（open set）}．

换言之： 给定度量空间 $X$ 的一个子集 $A$， 若对于任意 $x \in A$ 都存在 $r > 0$ 使得邻域 $N_r$ 属于 $A$， 那么 $A$ 就是一个开集．
\end{definition}

\begin{definition}{闭集}
若度量空间 $X$ 的子集 $A$ 关于 $X$ 的补集都是\textbf{闭集（closed set）}．
\end{definition}

\begin{theorem}{}
度量空间 $X$ 的子集 $A$ 是闭集的充分必要条件是： $A$ 的所有极限点都属于 $A$．
\end{theorem}
