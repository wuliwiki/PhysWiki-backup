% 2014 年计算机学科专业基础综合全国联考卷
% keys 2014 计算机 考研 真题 全国卷

\subsection{一、单项选择题}
\textbf{第1～40 小题，每小题2 分，共80 分．下列每题给出的四个选项中，只有一个选项最符合试题要求．}

1．下列程序段的时间复杂度是:
\begin{lstlisting}[language=cpp]
count=0;
for(k=1;k<=n;k*=2)
  for(j=1;j<=n;j++)
    count++;
\end{lstlisting}
A．$O(log2n)$ $\quad$ B．$O(n)$ $\quad$ C．$O(nlog2n)$ $\quad$ D．$O(n2)$

2．假设栈初始为空，将中缀表达式$a/b+(c*d-e*f)/g$转换为等价的后缀表达式的过程中，当扫描到$f$时，栈中的元素依次是． \\
A．$+ ( * -$  $\quad$ B．$+ ( - *$  $\quad$ C．$/ + ( * - *$  $\quad$ D．$/ + - *$

3．循环队列放在一维数组$A[0...M-1]$中，$end1$指向队头元素，$end2$指向队尾元素的后一个位置．假设队列两端均可进行入队和出队操作，队列中最多能容纳$M-1$ 个元素．初始时为空．下列判断队空和队满的条件中，\textbf{正确}的是． \\
A．队空：end1 == end2； 队满：end1 == (end2+1)mod M \\
B．队空：end1 == end2； 队满：end2 == (end1+1)mod (M-1) \\
C．队空：end2 == (end1+1)mod M； 队满：end1 == (end2+1)mod M \\
D．队空：end1 == (end2+1)mod M；队满：end2 == (end1+1)mod (M-1)

4．若对如下的二叉树进行中序线索化，则结点$x$的左、右线索指向的结点分别是:
\begin{figure}[ht]
\centering
\includegraphics[width=4cm]{./figures/CSN14_1.png}
\caption{第3题图} \label{CSN14_fig1}
\end{figure}
A．e、c $\quad$ B．e、a $\quad$ C．d、c $\quad$ D．b、a

5．将森林F转换为对应的二叉树T，F中叶结点的个数等于． \\
A．T 中叶结点的个数 $\quad$ B．T 中度为1 的结点个数 \\
C．T 中左孩子指针为空的结点个数 $\quad$ D．T 中右孩子指针为空的结点个数

6．5个字符有如下4种编码方案，\textbf{不是}前缀编码的是: \\
A．01,0000,0001,001,1 $\quad$ B．011,000,001,010,1 \\
C．000,001,010,011,100 $\quad$ D．0,100,110,1110,1100

7．对如下所示的有向图进行拓扑排序，得到的拓扑序列可能是: \\
A．3,1,2,4,5,6 $\quad$ B．3,1,2,4,6,5 \\
C．3,1,4,2,5,6 $\quad$ D．3,1,4,2,6,5
\begin{figure}[ht]
\centering
\includegraphics[width=7cm]{./figures/CSN14_2.png}
\caption{第7题图} \label{CSN14_fig2}
\end{figure}

8．用哈希（散列）方法处理冲突（碰撞）时可能出现堆积（聚集）现象，下列选项中，会受堆积现象直接影响的是 \\
A．存储效率 $\quad$ B．散列函数 $\quad$ C．装填(装载)因子 $\quad$ D．平均查找长度

9．在一棵具有15个关键字的4阶B树中，含关键字的结点个数最多是: \\
A．5 $\quad$ B．6 $\quad$ C．10 $\quad$ D．15

10．用希尔排序方法对一个数据序列进行排序时，若第1趟排序结果为9,1,4,13,7,8,20,23,15，则该趟排序采用的增量（间隔）可能是 \\
A．2 $\quad$ B．3 $\quad$ C．4 $\quad$ D．5

11．下列选项中，不可能是快速排序第2趟排序结果的是 \\
A．2,3,5,4,6,7,9 $\quad$ B．2,7,5,6,4,3,9 $\quad$ C．3,2,5,4,7,6,9 $\quad$ D．4,2,3,5,7,6,9

12．程序P在机器M上的执行时间是20秒，编译优化后，P执行的指令数减少到原来的70\%，而CPI增加到原来的1.2倍，则P在M上的执行时间是 \\
A．8.4秒 $\quad$ B．11.7秒 $\quad$ C．14秒 $\quad$ D．16.8秒

13．若x=103，y=-25，则下列表达式采用8位定点补码运算实现时，会发生溢出的是 \\
A．x+y $\quad$ B．-x+y $\quad$ C．x-y $\quad$ D．-x-y

14．float型数据据常用IEEE754单精度浮点格式表示．假设两个float型变量x和y分别存放在32位寄存器f1和f2中，若(f1)=CC90 0000H，(f2)=B0C0 0000H，则x和y之间的关系为 \\
A．x<y且符号相同 $\quad$ B．x<y且符号不同 $\quad$ C．x>y且符号相同 $\quad$ D．x>y且符号不同

15．某容量为256MB的存储器由若干4M×8位的DRAM芯片构成，该DRAM芯片的地址引脚和数据引脚总数是 \\
A．19 $\quad$ B．22 $\quad$ C．30 $\quad$ D．36

16．采用指令Cache与数据Cache分离的主要目的是 \\
A．降低Cache的缺失损失 $\quad$ B．提高Cache的命中率 \\
C．降低CPU平均访存时间 $\quad$ D．减少指令流水线资源冲突

17．某计算机有16个通用寄存器，采用32位定长指令字，操作码字段（含寻址方式位）为8位，Store指令的源操作数和目的操作数分别采用寄存器直接寻址和基址寻址方式．若基址寄存器可使用任一通用寄存器，且偏移量用补码表示，则Store指令中偏移量的取值范围是 \\
A．-32768 ~ +32767 $\quad$ B．-32767 ~ +32768 $\quad$ C．-65536 ~ +65535 $\quad$ D．-65535 ~ +65536

18．某计算机采用微程序控制器，共有32条指令，公共的取指令微程序包含2条微指令，各指令对应的微程序平均由4条微指令组成，采用断定法（下地址字段法）确定下条微指令地址，则微指令中下址字段的位数至少是 \\
A．5 $\quad$ B．6 $\quad$ C．8 $\quad$ D．9

19．某同步总线采用数据线和地址线复用方式，其中地址/数据线有32根，总线时钟频率为66MHz，每个时钟周期传送两次数据(上升沿和下降沿各传送一次数据)，该总线的最大数据传输率(总线带宽)是 \\
A．132 MB/s $\quad$ B．264 MB/s $\quad$ C．528 MB/s $\quad$ D．1056 MB/s

20．一次总线事务中，主设备只需给出一个首地址，从设备就能从首地址开始的若干连续单元读出或写入多个数据．这种总线事务方式称为 \\
A．并行传输 $\quad$ B．串行传输 $\quad$ C．突发传输 $\quad$ D．同步传输

21．下列有关I/O接口的叙述中，\textbf{错误}的是 \\
A．状态端口和控制端口可以合用同一个寄存器 \\
B．I/O接口中CPU可访问的寄存器称为I/O端口 \\
C．采用独立编址方式时，I/O端口地址和主存地址可能相同 \\
D．采用统一编址方式时，CPU不能用访存指令访问I/O端口

22．若某设备中断请求的响应和处理时间为100ns，每400ns发出一次中断请求，中断响应所允许的最长延迟时间为50ns，则在该设备持续工作过程中，CPU用于该设备的I/O时间占整个CPU时间的百分比至少是 \\
A．12.5\% $\quad$ B．25\% $\quad$ C．37.5\% $\quad$ D．50\%

23．下列调度算法中，不可能导致饥饿现象的是 \\
A．时间片轮转 $\quad$ B．静态优先数调度 $\quad$ C．非抢占式短作业优先 $\quad$ D．抢占式短作业优先

24．某系统有n台互斥使用的同类设备，三个并发进程分别需要3、4、5台设备，可确保系统\textbf{不发生}死锁的设备数n最小为 \\
A．9 $\quad$ B．10 $\quad$ C．11 $\quad$ D．12

25．下列指令中，\textbf{不能}在用户态执行的是 \\
A．trap指令 $\quad$ B．跳转指令 $\quad$ C．压栈指令 $\quad$ D．关中断指令

26．一个进程的读磁盘操作完成后，操作系统针对该进程必做的是 \\
A．修改进程状态为就绪态 $\quad$ B．降低进程优先级 $\quad$ C．给进程分配用户内存空间 $\quad$ D．增加进程时间片大小

27．现有一个容量为10GB的磁盘分区，磁盘空间以簇(Cluster)为单位进行分配，簇的大小为4KB，若采用位图法管理该分区的空闲空间，即用一位(bit)标识一个簇是否被分配，则存放该位图所需簇的个数为 \\
A．80 $\quad$ B．320 $\quad$ C．80K $\quad$ D．320K

28．下列措施中，能加快虚实地址转换的是 \\
I．增大快表(TLB)容量 \\
II．让页表常驻内存 \\
III．增大交换区(swap) \\
A．仅I $\quad$ B．仅II $\quad$ C．仅I、II $\quad$ D．仅II、III

29．在一个文件被用户进程首次打开的过程中，操作系统需做的是 \\
A．将文件内容读到内存中 \\
B．将文件控制块读到内存中 \\
C．修改文件控制块中的读写权限 \\
D．将文件的数据缓冲区首指针返回给用户进程

30．在页式虚拟存储管理系统中，采用某些页面置换算法，会出现Belady异常现象，即进程的缺页次数会随着分配给该进程的页框个数的增加而增加．下列算法中，可能出现Belady异常现象的是 \\
I．LRU算法 $\quad$ II．FIFO算法 $\quad$ III．OPT算法 \\
A．仅II $\quad$ B．仅I、II $\quad$ C．仅I、III $\quad$ D．仅II、III

31．下列关于管道(Pipe)通信的叙述中，\textbf{正确}的是 \\
A．一个管道可实现双向数据传输 \\
B．管道的容量仅受磁盘容量大小限制 \\
C．进程对管道进行读操作和写操作都可能被阻塞 \\
D．一个管道只能有一个读进程或一个写进程对其操作

32．下列选项中，属于多级页表优点的是 \\
A．加快地址变换速度 \\
B．减少缺页中断次数 \\
C．减少页表项所占字节数 \\
D．减少页表所占的连续内存空间

33．在OSI参考模型中，直接为会话层提供服务的是 \\
A．应用层 $\quad$ B．表示层  $\quad$ C．传输层 $\quad$ D．网络层

34．某以太网拓扑及交换机当前转发表如下图所示，主机00-e1-d5-00-23-a1向主机00-e1-d5-00-23-c1发送1个数据帧，主机00-e1-d5-00-23-c1收到该帧后，向主机00-e1-d5-00-23-a1发送1个确认帧，交换机对这两个帧的转发端口分别是（ ）．
\begin{figure}[ht]
\centering
\includegraphics[width=14.25cm]{./figures/CSN14_3.png}
\caption{第34题图} \label{CSN14_fig3}
\end{figure}

35．下列因素中，不会影响信道数据传输速率的是 \\
A．信噪比 $\quad$ B．频率宽带 $\quad$ C．调制速率 $\quad$ D．信号传播速度

36．主机甲与主机乙之间使用后退N帧协议(GBN)传输数据，甲的发送窗口尺寸为1000，数据帧长为1000字节，信道带宽为100Mbps，乙每收到一个数据帧立即利用一个短帧(忽略其传输延迟)进行确认，若甲乙之间的单向传播延迟是50ms，则甲可以达到的最大平均数据传输速率约为 \\
A．10Mbps $\quad$ B．20Mbps $\quad$ C．80Mbps $\quad$ D．100Mbps

37．站点A、B、C通过CDMA共享链路，A、B、C的码片序列(chipping sequence)分别是(1,1,1,1)、(1,-1,1,-1)和(1,1,-1,-1)．若C从链路上收到的序列是(2,0,2,0,0,-2,0,-2,0,2,0,2)，则C收到A发送的数据是 \\
A．000 B．101 C．110 D．111 \\

38．主机甲和主机乙已建立了TCP连接，甲始终以MSS=1KB大小的段发送数据，并一直有数据发送；乙每收到一个数据段都会发出一个接收窗口为10KB的确认段．若甲在t时刻发生超时时拥塞窗口为8KB，则从t时刻起，不再发生超时的情况下，经过10个RTT后，甲的发送窗口是 \\
A．10KB B．12KB C．14KB D．15KB \\

39．下列关于UDP协议的叙述中，\textbf{正确}的是 \\
I．提供无连接服务 $\quad$ II．提供复用/分用服务 $\quad$ III．通过差错校验，保障可靠数据传输 \\
A．仅I $\quad$ B．仅I、II $\quad$ C．仅II、III $\quad$ D．I、II、III

40．使用浏览器访问某大学Web网站主页时，\textbf{不可能}使用到的协议是 \\
A．PPP $\quad$ B．ARP $\quad$ C．UDP $\quad$ D．SMTP

\subsection{二、综合应用题}
\textbf{41—47小题，共70分．}

41.(13分)二叉树的带权路径长度(WPL)是二叉树中所有叶结点的带权路径长度之和．给定一棵二叉树T，采用二叉链表存储，结点结构为：
\begin{table}[ht]
\centering
\caption{第41题表}\label{CSN14_tab1}
\begin{tabular}{|c|c|c|}
\hline
left & weight & right \\
\hline
\end{tabular}
\end{table}
其中叶结点的weight域保存该结点的非负权值．设root为指向T的根结点的指针，请设计求T的WPL的算法，要求： \\
1）给出算法的基本设计思想； \\
2）使用C或C++语言，给出二叉树结点的数据类型定义； \\
3）根据设计思想，采用C或C++语言描述算法，关键之处给出注释．

42.(10分)某网络中的路由器运行OSPF路由协议，题42表是路由器R1维护的主要链路状态信息(LSI)，题42图是根据题42表及R1的接口名构造出来的网络拓扑．
\begin{figure}[ht]
\centering
\includegraphics[width=14.25cm]{./figures/CSN14_4.png}
\caption{第42题图1：R1所维护的LSI} \label{CSN14_fig4}
\end{figure}

\begin{figure}[ht]
\centering
\includegraphics[width=14.25cm]{./figures/CSN14_5.png}
\caption{第42题图2：R1构造的网络拓扑} \label{CSN14_fig5}
\end{figure}
请回答下列问题： \\
1）本题中的网络可抽象为数据结构中的哪种逻辑结构？ \\
2）针对题42表中的内容，设计合理的链式存储结构，以保存题42表中的链路状态信息(LSI)．要求给出链式存储结构的数据类型定义，并画出对应题42表的链式存储结构示意图(示意图中可仅以ID标识结点)． \\
3）按照迪杰斯特拉(Dijikstra)算法的策略，依次给出R1到达题42图中子网192.1.x.x的最短路径及费用．

43．（9分）请根据题42描述的网络，继续回答下列问题． \\
1）假设路由表结构如下表所示，请给出题42图中R1的路由表，要求包括到达题42图中子网192.1.x.x的路由，且路由表中的路由项尽可能少． \\
\begin{table}[ht]
\centering
\caption{第43题表格}\label{CSN14_tab2}
\begin{tabular}{|c|c|c|}
\hline
目的网络 & 下一跳 & 接口 \\
\hline
\end{tabular}
\end{table}
2）当主机192.1.1.130向主机192.1.7.211发送一个TTL=64的IP分组时，R1通过哪个接口转发该IP分组？主机192.1.7.211收到的IP分组TTL是多少？ \\
3）若R1增加一条Metric为10的链路连接Internet，则题42表中R1的LSI需要增加哪些信息？

44.（12分）某程序中有如下循环代码段p：:”for(int i = 0; i < N; i++) sum+=A[i];”．假设编译时变量$sum$和$i$分别分配在寄存器$R1$和$R2$中．常量$N$在寄存器$R6$中，数组$A$的首地址在寄存器$R3$中．程序段$P$起始地址为$0804$ $8100H$，对应的汇编代码和机器代码如下表所示．
\begin{table}[ht]
\centering
\caption{第44题表}\label{CSN14_tab3}
\begin{tabular}{|c|c|c|c|c|}
\hline
编号 & 地址 & 机器代码 & 汇编代码 & 注释 \\
\hline
$1$ & $08048100H$ & $00022080H$ & $loop$: $sll$ $R4$,$R2$,$2$ & $(R2)<<2 \rightarrow R4$ \\
\hline
$2$ & $08048104H$ & $00083020H$ & $add$ $R4$,$R4$,$R3$ & $(R4)+(R3) \rightarrow R4$ \\
\hline
$3$ & $08048108H$ & $8C850000H$ & $load$ $R5$,$0(R4)$ & $((R4)+0) \rightarrow R5$ \\
\hline
$4$ & $0804810CH$ & $00250820H$ & $add$ $R1$,$R1$,$R5$ & $(R1)+(R5) \rightarrow R1$ \\
\hline
$5$ & $08048110H$ & $20420001H$ & $add$ $R2$,$R2$,$1$ & $(R2)+1 \rightarrow R2$ \\
\hline
$6$ & $08048114H$ & $1446FFFAH$ & $bne$ $R2$,$R6$,$loop$ & $if \quad (R2) \quad !=(R6) \quad goto \quad loop$ \\
\hline
\end{tabular}
\end{table}
执行上述代码的计算机$M$采用$32$位定长指令字，其中分支指令$bne$采用如下格式： \\
\begin{figure}[ht]
\centering
\includegraphics[width=14.25cm]{./figures/CSN14_6.png}
\caption{请添加图片描述} \label{CSN14_fig6}
\end{figure}
$OP$为操作码;；$Rs$和$Rd$为寄存器编号；$OFFSET$为偏移量，用补码表示．请回答下列问题，并说明理由．\\
1）$M$的存储器编址单位是什么？ \\
2）已知$sll$指令实现左移功能，数组$A$中每个元素占多少位？ \\
3）题$44$表中$bne$指令的$OFFSET$字段的值是多少？已知$bne$指令采用相对寻址方式，当前$PC$内容为$bne$指令地址，通过分析题$44$表中指令地址和$bne$指令内容，推断出$bne$指令的转移目标地址计算公式． \\
4）若$M$采用如下“按序发射、按序完成”的$5$级指令流水线：$IF$（取值）、$ID$（译码及取数）、$EXE$（执行）、$MEM$（访存）、$WB$（写回寄存器），且硬件不采取任何转发措施，分支指令的执行均引起$3$个时钟周期的阻塞，则$P$中哪些指令的执行会由于数据相关而发生流水线阻塞？哪条指令的执行会发生控制冒险？为什么指令$1$的执行不会因为与指令$5$的数据相关而发生阻塞？

45．假设对于$44$题中的计算机M和程序P的机器代码，$M$采用页式虚拟存储管理；$P$开始执行时，$(R1)=(R2)=0$，$(R6)=1000$，其机器代码已调入主存但不在$Cache$中；数组$A$未调入主存，且所有数组元素在同一页，并存储在磁盘同一个扇区．请回答下列问题并说明理由． \\
1）$P$执行结束时，$R2$的内容是多少？  \\
2）$M$的指令$Cache$和数据$Cache$分离．若指令$Cache$共有$16$行，$Cache$和主存交换的块大小为$32$字节，则其数据区的容量是多少？若仅考虑程序段P的执行，则指令$Cache$的命中率为多少？  \\
3）$P$在执行过程中，哪条指令的执行可能发生溢出异常？哪条指令的执行可能产生缺页异常？对于数组$A$的访问，需要读磁盘和$TLB$至少各多少次？

47.系统中有多个生产者进程和多个消费者进程，共享一个能存放$1000$件产品的环形缓冲区（初始为空）．当缓冲区未满时，生产者进程可以放入其生产的一件产品，否则等待；当缓冲区未空时，消费者进程可以从缓冲区取走一件产品，否则等待．要求一个消费者进程从缓冲区连续取出$10$件产品后，其他消费者进程才可以取产品．请使用信号量$P$，$V(wait(),signal())$操作实现进程间的互斥与同步，要求写出完整的过程，并说明所用信号量的含义和初值．

\subsection{参考答案}

\textbf{一、单项选择题}

1．C \\
内层循环条件$j<=n$与外层循环的变量无关，每次循环$j$自增$1$，每次内层循环都执行$n$次．外层循环条件为$k<=n$，增量定义为$k*=2$，可知循环次数为$2k<=n$，即$k<=log2n$．所以内层循环的时间复杂度是$O(n)$，外层循环的时间复杂度是$O(log2n)$．对于嵌套循环，根据乘法规则可知，该段程序的时间复杂度$T(n)=T1(n)*T2(n)=O(n)*O(log2n)=O(nlog2n)$．

2．B
3．A
4．D
5．C
6．D
7．D
8．D
9．D
10．B
11．C
12．D
13．C
14．A
15．A
16．D
17．A
18．C
19．C
20．C
21．D
22．B
23．A
24．B
25．D
26．A
27．A
28．C
29．B
30．A
31．C
32．D
33．C
34．B
35．D
36．C
37．B
38．A
39．B
40．D