% 字符编码

\subsection{文本文件}
我们这里讨论的是\textbf{文本文件（text file）}， 也就是 Windows 中为人熟知的 txt 拓展名文件． 文本文件只能储存字符， 也就是说文件中的信息只能是 “有几个字符” 以及 “每个字符是什么”． 所以文本文件本质上不包括字体，字号，下划线等等的其他信息． 一个文件是否是文本文件是由它的储存格式决定的， 而不是由拓展名决定的． 一些其他的文件拓展名如 html， xml， md， 以及大部分变成语言的代码文件都是文本文件．

我们把所有不是文本文件的文件统称为二进制文件（binary file）， 因为从原理上来说任何文件都是以二进制的形式储存的． 例如 Word 文档保存的 doc 或 docx 拓展名文件就是二进制文件， 因为里面用其特定的格式储存了许多其他信息．  又例如图片文件 jpg, png， 视频文件 mp4 等也都是二进制文件．

文本文件的一个基本的问题是， 字符以什么形式保存？ 从概念上来说， 每个字符对应一个整数， 我们把对应的规则叫做\textbf{编码（encoding）}， 一个文本文件一般只使用一种编码． 例如在著名的 ascii 编码中， 128 个字符被一一对应到 0-127 的整数， 这些字符包括大写和小写字母， 数字， 常见标点， 以及一些格式上的符号如空格， 换行符， 制表符等． ascii 编码可以满足通常的英语写作需求， 但显然不支持其他语言如中文． 下文会看到中文的文本文档通常以 UTF-8 （Unicode 的一种）或者 GBK 编码储存．

遗憾的是， 一般情况下文本文档中不会声明使用的编码， 所以如果储存和打开文件的默认编码方式不一致， 就会导致显示乱码． 尽管现在大部分系统和软件都用 Unicode 编码保存和打开文本文件， 但仍然有一些软件为了兼容性使用以前的编码， 例如 Windows 的写字板（不建议使用）默认将中文保存为 GBK（即中文环境下所谓的 ANSI）．

这里我们使用 VScode 编辑器为例进行介绍．

当我们在在中版的 Windows 操作系统中新建一个 txt 并输入一些中文的时候， 默认编码是 GB2312， GB 代表“国标”． 但 Linux 或 MacOS 中的文本文件

\subsection{CR 和 LF}
Windows 默认使用 CRLF， MacOS 默认用 CR， Unix 系统一般用 LF． 高级一些的编辑器会自动检测

\subsection{Unicode}
Unicode 支持许多语言．
