% 偏导数（简明微积分）
% 多元微积分|导数|偏导数|混合偏导

\pentry{导数\upref{Der}}
\subsection{一点处的偏导数}
对一个多元函数 $y = f(x_1, x_2 \dots x_i \dots)$，如果求导时只把 $x_i$ 看成自变量，剩下的 $x_{j \ne i}$ 都看做常数，得到的导数就叫函数（关于 $x_i$）的\textbf{偏导数}． 因此，一个多元函数具有n个偏导数，n为他的自变量个数，即可以分别对各个自变量求偏导．

\begin{figure}[ht]
\centering
\includegraphics[width=14cm]{./figures/ParDer_1.png}
\caption{偏导数} \label{ParDer_fig1}
\end{figure}

类似于一元函数的导数，我们先定义一点处的偏导数．下文以二元函数 $z=f(x,y)$ 为例，求$(x_0,y_0,z_0), z_0=f(x_0,y_0)$处的$f$关于$x$的偏导数．

在三维坐标系中，二元函数$z=f(x,y)$一般可画成一个曲面．如\autoref{ParDer_fig1} 所示，我们先固定$y$不变，即令$y=y_0$，这相当于做一个截面．此时二元函数$y=f(x,y)\Rightarrow y=f(x,y_0)$，事实上化为了一个熟悉的一元函数$y=f(x)$，即曲面与截面相交的曲线．随后运用一元函数导数\upref{Der}的定义，即可计算该点处的偏导数$f_x(x_0,y_0)$，一般记为$f_x(x_0,y_0)$或$\pdv{f}{x}|_y$(后面的$y$强调"保持$y$不变")

更一般地，我们定义
\begin{definition}{偏导数}
$z=f(x_0,y_0)$在$(x_0,y_0,z_0)$处关于$x$的偏导数
\begin{equation}
f_x(x_0,y_0)=lim_{x\to x_0} \frac{f(x,y_0)-f(x_0,y_0)}{x-x_0}
\end{equation}
同理，$z=f(x_0,y_0)$在$(x_0,y_0,z_0)$处关于$y$的偏导数
\begin{equation}
f_y(x_0,y_0)=lim_{y\to y_0} \frac{f(x_0,y)-f(x_0,y_0)}{y-y_0}
\end{equation}
\end{definition}

同样地我们也可以引入偏微分的概念．类比导数的几何意义（曲线的斜率）， 若在三维直角坐标系中画出曲面 $f(x,y)$，则 $\pdv*{f}{x}$ 和 $\pdv*{f}{y}$ 分别是是某点处曲面延 $x$ 方向和 $y$ 方向的斜率．所以从某点 $(x_0, y_0)$ 延 $x$ 方向移动一个微小量 $\Delta x$，假设曲面平滑，则函数值增加
\begin{equation}
\Delta f \approx \pdv{f}{x}\Delta x
\end{equation}
写成微分关系就是
\begin{equation}
\dd{f} = \pdv{f}{x} \dd{x} \quad (y\, \text{不变})
\end{equation}

\subsection{偏导函数}
同样地，根据函数的定义，我们也能引入相应的偏导函数的概念．偏导函数也同样可被简称为偏导数．

\begin{definition}{偏导函数}
$z=f(x,y)$在$(x,y,z)$处关于$x$的偏导数
\begin{equation}
f_x(x,y)=lim_{\Delta x \to 0} \frac{f(x+\Delta x,y)-f(x,y)}{\Delta x}
\end{equation}
同理，$z=f(x,y)$在$(x_0,y_0,z_0)$处关于$y$的偏导数
\begin{equation}
f_x(x,y)=lim_{\Delta x \to 0} \frac{f(x+\Delta x,y)-f(x,y)}{\Delta x}
\end{equation}
\end{}
以二元函数 $z=f(x,y)$ 为例，对 $x$ 的偏导数常记为
\begin{equation}\label{ParDer_eq1}
\pdv{z}{x} \qquad \pdv{f}{x} \qquad f_x  \qquad \qty(\pdv{f}{x})_y
\end{equation}
最后一种记号在括号右下角声明了保持不变的自变量，这在许多情况下能避免混淆．


\begin{example}{}\label{ParDer_ex1}
对于函数 $f(x,y) = x^2 + 2 y^2 + 2xy$， 两个偏导数分别为
\begin{equation}
\pdv{f}{x} = 2x + 2y  \qquad  \pdv{f}{y} = 4y + 2x
\end{equation}
\end{example}

\begin{example}{}\label{ParDer_ex2}
对于函数 $z = \sin (y\cos x) + \cos ^2 x$
\begin{equation}
\begin{aligned}
\pdv{z}{x} &=  - y\cos (y\cos x)\sin x - 2\cos x\sin x =  - y\cos (y\cos x)\sin x - \sin 2x\\
\pdv{z}{y} &= \cos (y\cos x)\cos x
\end{aligned}
\end{equation}
\end{example}

\subsection{几何意义}



\subsection{高阶偏导}
与一元函数的高阶导数类似，多元函数也可以求高阶偏导数，不同的是，由于每求一次偏导都需要指定对哪个变量．例如二元函数 $f(x,y)$ 的二阶偏导有
\begin{equation}
\pdv[2]{f}{x} \qquad
\pdv{f}{x}{y} \qquad
\pdv{f}{y}{x} \qquad
\pdv[2]{f}{y}
\end{equation}
若高阶偏导的分母中出现不止一个变量，我们就称其为\textbf{混合偏导}．混合偏导的一个重要性质就是偏导的顺序可以任意改变，例如上式中有 $\pdv*{f}{x}{y} = \pdv*{f}{y}{x}$． 这点本书不做证明，可以通过以上的例子验证．
\addTODO{并不正确，需要 $f$ 满足很强的条件}








