% 逆序数
% 逆序数|排列

\begin{issues}
\issueDraft
\end{issues}

\pentry{排列\upref{permut}}

\footnote{参考 Wikipedia \href{https://en.wikipedia.org/wiki/Inversion_(discrete_mathematics)}{相关页面}．}我们把集合 $\qty{1,\dots,N}$ 的某种排列记为 $\pi$， 该排列的元素按照顺序分别记为 $p_{n,1}, \dots, p_{n,N}$． 对于任意 $i < j$， 如果满足 $p_{n,i} > p_{n,j}$ 我们就把 $i, j$ 或者 $p_{n,i}, p_{n,j}$ 称为排列 $p_n$ 的一个\textbf{逆序对（inversion）}． 一个排列中所有逆序对的个数就叫\textbf{逆序数（inversion number）}．

逆序数主要的应用有定义行列式\upref{Deter}和列维—奇维塔（Levi-Civita）符号\upref{LeviCi}． 在这两个应用中， 我们只对逆序数的奇偶性感兴趣．

\begin{theorem}{}
交换排列中任意两个数， 逆序数奇偶性改变． 
\end{theorem}

\subsubsection{证明}
在排列 $p_n$ 中， 考虑第 $i, j$ （$i < j$）两个元素的置换， 不妨把他们的值分别记为 $m, n$． 不妨假设 $m < n$ （$n < m$ 的讨论同理）． 为了方便讨论， 我们把任意两个不同元素都用弧线连起来， 这些弧线有的代表逆序对， 有的不是． 我们可以把这些连线分为 4 类来讨论：
\begin{enumerate}
\item 对于不连接到 $m$ 或 $n$ 的线， 置换不改变它们之中的逆序数．
\item 对于从 $m$ 或 $n$ 连接到 $m$ 左边或 $n$ 右边的线， 置换同样不改变他们之中的逆序数．
\item 对于从 $m$ 或 $n$ 连接到 $m, n$ 之间某个元素 $q$ 的两条线， 只有当 $m < q < n$ 时， 置换后会同时产生 $m,q$ 和 $n,q$ 之间的两条线， 但无论有多少这样的 $q$， 逆序数只改变偶数个．
\item $m,n$ 的连线在置换前不是逆序的， 置换后变为逆序， 使逆序数增加 1， 改变逆序数的奇偶性．
\end{enumerate}
证毕．
