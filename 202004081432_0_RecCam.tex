% 长方形相机定位

\pentry{相机模型\upref{CamMdl}}

如果我们事先不知道相机参数， 假设图片已经纠偏， 假设光心在图片的中点， 我们仅通过一个长方形在图片上的位置判断长方形的边长比， 以及相对相机的位置．

\subsubsection{思路}

找到图片上四边形的两组对边的交点， 这两个点关于相机焦点的空间夹角必为直角， 由此可以判断相机焦距． 也就是说只要通过图片中的一个长方形就可以确定相机的焦距或者视角！

这两个点对应的射线就是两组平行线的方向， 由此可以确定平面的法向量， 令长方形的较短边长为 1， 两条边分别为世界系的 $x$ 轴 和 $y$ 轴， 由此可以确定相机的位置和方向．

两条射线的矢量分别为 $(x_1, y_1, f)$ 以及 $(x_2, y_2, f)$．

\begin{equation}
x_1 x_2 + y_1 y_2 + f^2 = 0
\end{equation}
\begin{equation}
f = \sqrt{-x_1 x_2 - y_1 y_2}
\end{equation}

