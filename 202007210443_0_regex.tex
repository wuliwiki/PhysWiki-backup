% 正则表达式

\pentry{文本文件与字符编码\upref{encode}}

在文本文件中搜索内容的时候， 有时候想要的是某种格式而不是某些具体的字符， 例如要搜索 “*月*日 消费 ** 元”， 找到匹配项后需要选中这几个字（以便进行替换等操作）， 又或者仅选中 “元” 前面的数值（以便进行统计等）． 理论上我们可以通过编程解决这个问题， 但更简单地， 可以用一种广为使用的表达式来达到同样的效果， 就是下面要介绍的\textbf{正则表达式（regular expresion）}．

正则表达式在许多软件中都被支持， 例如在常用的文本编辑器（如 VScode）， 搜索软件（如 Fileseek）， 和大部分编程语言（如 C++， python， Matlab）中都有很好的支持．

\subsubsection{字符匹配}
\begin{table}[ht]
\centering
\caption{字符匹配}\label{regex_tab1}
\begin{tabular}{|c|c|c|}
\hline
符号 & 说明 & 例子 \\
\hline
\verb|.| & 匹配单个任意字符， 包括空格回车等 & \verb|.at| 可以匹配 \verb|bat|， \verb|cat|， \verb|hat| 等 \\
\hline
\verb|[...]| & 匹配方括号中的任意一个字符． 如果要表示一个范围的字符可以用 \verb|-| 连接 & \verb|[bc]ase| 可以匹配 \verb|base| 和 \verb|case|； 又例如 \verb|[a-z0-9]| 可以匹配任意一个小写字母或数字 \\
\hline
\verb|[^...]| & 匹配任何除方括号中以外的字符 & 例如 \verb|[^b]ase| 不能匹配 \verb|base| 但可以匹配 \verb|case| \\
\hline
\verb|\w| & 等效于 \verb|[a-zA-Z_0-9]| &  \\
\hline
\verb|\W| & 等效于 \verb|[^a-zA-Z_0-9]| &  \\
\hline
\verb|\s| & 空白字符，等效于 \verb|[ \f\n\r\t\v]| （注意第一个字符是空格， 剩下的符号是不同功能的空格， 见下文） &  \\
\hline
\verb|\S| & 非空白字符，等效于 \verb|[^ \f\n\r\t\v]| & \\
\hline
\verb|\d| & 一个数字（digit）， 等效于 \verb|[0-9]| & \\
\hline
\verb|\D| & 一个非数字， 等效于 \verb|[^0-9]| & \\
\hline
\end{tabular}
\end{table}


（未完成）
在 VScode 中， 用小括号 group 起来的部分， 在替换的时候可以用 \verb|$1|， \verb|$2| 等来表示．
